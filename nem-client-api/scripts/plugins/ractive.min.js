!function(t){"use strict";var e=t.Ractive,n=void 0,r=function(){var t,e;return t={el:null,template:"",complete:null,preserveWhitespace:!1,append:!1,twoway:!0,modifyArrays:!0,lazy:!1,debug:!1,noIntro:!1,transitionsEnabled:!0,magic:!1,noCssTransform:!1,adapt:[],sanitize:!1,stripComments:!0,isolated:!1,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],computed:null},e={keys:Object.keys(t),defaults:t}}(n),i=function(){return"undefined"!=typeof document?document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):void 0}(),o={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},s=function(t,e){return t?function(t,n){return n&&n!==e.html?document.createElementNS(n,t):document.createElement(t)}:function(t,n){if(n&&n!==e.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)}}(i,o),a="object"==typeof document,u=function(t){try{return Object.defineProperty({},"test",{value:0}),t&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Object.defineProperty}catch(e){return function(t,e,n){t[e]=n.value}}}(a),h=function(t,e,n){try{try{Object.defineProperties({},{test:{value:0}})}catch(r){throw r}return n&&Object.defineProperties(t("div"),{test:{value:0}}),Object.defineProperties}catch(r){return function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t,r,n[r])}}}(s,u,a),c=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},p=function(t){return function(e,n,r){var i;if("string"!=typeof n||!t(r))throw new Error("Bad arguments");if(i=+e.get(n)||0,!t(i))throw new Error("Cannot add to a non-numeric value");return e.set(n,i+r)}}(c),f=function(t){return function(e,n){return t(this,e,void 0===n?1:+n)}}(p),l=function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e},d=function(){function t(t){setTimeout(t,0)}function e(t,e){return function(){for(var n;n=t.shift();)n(e)}}function n(t,e,i,o){var s;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof r)e.then(i,o);else if(!e||"object"!=typeof e&&"function"!=typeof e)i(e);else{try{s=e.then}catch(a){return o(a),void 0}if("function"==typeof s){var u,h,c;h=function(e){u||(u=!0,n(t,e,i,o))},c=function(t){u||(u=!0,o(t))};try{s.call(e,h,c)}catch(a){if(!u)return o(a),u=!0,void 0}}else i(e)}}var r,i={},o={},s={};return r=function(a){var u,h,c,p,f,l,d=[],g=[],v=i;return c=function(n){return function(r){v===i&&(u=r,v=n,h=e(v===o?d:g,u),t(h))}},p=c(o),f=c(s),a(p,f),l={then:function(e,o){var s=new r(function(r,a){var u=function(t,e,i){"function"==typeof t?e.push(function(e){var i;try{i=t(e),n(s,i,r,a)}catch(o){a(o)}}):e.push(i)};u(e,d,r),u(o,g,a),v!==i&&t(h)});return s}},l["catch"]=function(t){return this.then(null,t)},l},r.all=function(t){return new r(function(e,n){var r,i,o,s=[];if(!t.length)return e(s),void 0;for(o=function(i){t[i].then(function(t){s[i]=t,--r||e(s)},n)},r=i=t.length;i--;)o(i)})},r.resolve=function(t){return new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r}(),g=function(){var t=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(e){return(e||"").replace(t,".$1")}}(),v=["o","ms","moz","webkit"],m=function(t){return"undefined"!=typeof window?(function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(t,0,window),window.requestAnimationFrame):void 0}(v),y=function(){return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),w=[],b=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},E=function(t,e,n){var r,i,o,s,a,u="/* Ractive.js component styles */\n",h={},c=[];if(e)return t.push(function(){r=t.runloop}),i=document.createElement("style"),i.type="text/css",o=document.getElementsByTagName("head")[0],a=!1,s=i.styleSheet,{add:function(t){t.css&&(h[t._guid]||(h[t._guid]=0,c.push(t.css),r.scheduleCssUpdate()),h[t._guid]+=1)},remove:function(t){t.css&&(h[t._guid]-=1,h[t._guid]||(n(c,t.css),r.scheduleCssUpdate()))},update:function(){var t;c.length?(t=u+c.join(" "),s?s.cssText=t:i.innerHTML=t,a||o.appendChild(i)):a&&o.removeChild(i)}}}(w,a,b),x=function(t,e){var n,r,i,o,s,a;for(n=[],a=t._rendering?t.fragment.docFrag:t.el,r=a.querySelectorAll('input[type="checkbox"][name="{{'+e+'}}"]'),o=r.length,s=0;o>s;s+=1)i=r[s],(i.hasAttribute("checked")||i.checked)&&n.push(i._ractive.value);return n},_=Object.prototype.hasOwnProperty,T=function(t){do if(t.context)return t.context;while(t=t.parent);return""},N=function(t,e,n,r){var i,o='Could not resolve reference - too many "../" prefixes';return t.push(function(){i=t.get}),function(t,s,a){var u,h,c,p,f,l,d,g,v;if(s=e(s),"."===s)return r(a);if("."===s.charAt(0)){if(u=r(a),h=u?u.split("."):[],"../"===s.substr(0,3)){for(;"../"===s.substr(0,3);){if(!h.length)throw new Error(o);h.pop(),s=s.substring(3)}return h.push(s),h.join(".")}return u?u+s:s.substring(1)}c=s.split("."),p=c.pop(),f=c.length?"."+c.join("."):"";do if(u=a.context,u&&(v=!0,l=u+f,d=i(t,l),(g=t._wrapped[l])&&(d=g.get()),d&&("object"==typeof d||"function"==typeof d)&&p in d))return u+"."+s;while(a=a.parent);return v||t._parent&&!t.isolated?n.call(t.data,s)?s:void 0!==i(t,s)?s:void 0:s}}(w,g,_,T),k=function(t){var e,n,r,i,o=[""];for(e=t.length;e--;)for(n=t[e],r=n.split(".");r.length>1;)r.pop(),i=r.join("."),o[i]!==!0&&(o.push(i),o[i]=!0);return o},S=function(){function t(t,n,r){var o;for(t._patternObservers.length&&i(t,n,n,r,!0),o=0;o<t._deps.length;o+=1)e(t,n,o,r)}function e(t,e,i,o){var s=t._deps[i];s&&(n(s[e]),o||r(t._depsMap[e],t,i))}function n(t){var e,n;if(t)for(n=t.length,e=0;n>e;e+=1)t[e].update()}function r(t,n,r,i){var o;if(t)for(o=t.length;o--;)e(n,t[o],r,i)}function i(t,e,n,r,s){var u,h,c,p,f,l,d,g;for(u=t._patternObservers.length;u--;)h=t._patternObservers[u],h.regex.test(n)&&h.update(n);r||(g=function(e){if(c=t._depsMap[e])for(u=c.length;u--;)p=c[u],f=a.exec(p)[0],l=n?n+"."+f:f,i(t,p,l)},s?(d=o(n),d.forEach(g)):g(e))}function o(t){var e,n,r,i,o,a;for(e=t.split("."),n=s(e.length),o=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)a=n[i].map(r).join("."),o[a]||(o.push(a),o[a]=!0);return o}function s(t){var e,n,r,i,o,s="";if(!u[t]){for(r=[];s.length<t;)s+=1;for(e=parseInt(s,2),i=function(t){return"1"===t},o=0;e>=o;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;r[o]=Array.prototype.map.call(n,i)}u[t]=r}return u[t]}var a,u={};return a=/[^\.]+$/,t.multiple=function(t,n,r){var o,s,a;if(a=n.length,t._patternObservers.length)for(o=a;o--;)i(t,n[o],n[o],r,!0);for(o=0;o<t._deps.length;o+=1)if(t._deps[o])for(s=a;s--;)e(t,n[s],o,r)},t}(),O=function(t){var e,n,r,i;return e=function(t,e){var o=[];return o.detachQueue=[],o.remove=r,o.init=i,o._check=n,o._callback=t,o._previous=e,e&&e.push(o),o},n=function(){var t;if(this._ready&&!this.length){for(;t=this.detachQueue.pop();)t.detach();"function"==typeof this._callback&&this._callback(),this._previous&&this._previous.remove(this)}},r=function(e){t(this,e),this._check()},i=function(){this._ready=!0,this._check()},e}(b),R=function(t,e,n,r,i,o,s,a){function u(){var t,n,r;for(w&&(w.focus(),w=null);t=T.pop();)t.update().deferred=!1;for(;t=b.pop();)t._sort();for(;t=E.pop();)t.init();for(;t=x.pop();)t.init();for(;t=_.pop();)t.update();for(;t=N.pop();)t.active=!1;for(;t=M.pop();)if(M[t._guid]=!1,t._changes.length){for(r={};n=t._changes.pop();)r[n]=f(t,n);t.fire("change",r)}d&&(e.update(),d=!1)}function h(){var t,e,n;for(n=M.length;n--;)t=M[n],t._changes.length&&(e=o(t._changes),s.multiple(t,e,!0));for(c();v;){for(v=!1;t=S.pop();)t.update();for(;t=k.pop();)t.update().deferred=!1;for(;t=O.pop();)t.deferredUpdate();for(;t=A.pop();)l(t.root,t.keypath,r(t.root,t.keypath));for(;t=C.pop();)t.update()}}function c(){var t,e,n;if(L.length)for(t=L.splice(0,L.length);e=t.pop();)e.keypath||(n=i(e.root,e.ref,e.parentFragment),void 0!==n?e.resolve(n):L.push(e))}t.push(function(){f=t.get,l=t.set});var p,f,l,d,g,v=!1,m=!1,y=0,w=null,b=[],E=[],x=[],_=[],T=[],N=[],k=[],S=[],O=[],R={},A=[],C=[],L=[],M=[];return p={start:function(t,e){this.addInstance(t),m||(y+=1,g=a(e,g))},end:function(){return m?(c(),void 0):(--y||(m=!0,h(),m=!1,u()),g.init(),g=g._previous,void 0)},trigger:function(){return y||m?(c(),void 0):(m=!0,h(),m=!1,u(),void 0)},focus:function(t){w=t},addInstance:function(t){t&&!M[t._guid]&&(M.push(t),M[M._guid]=!0)},addLiveQuery:function(t){b.push(t)},addDecorator:function(t){E.push(t)},addTransition:function(t){t._manager=g,g.push(t),x.push(t)},addObserver:function(t){_.push(t)},addAttribute:function(t){T.push(t)},addBinding:function(t){t.active=!0,N.push(t)},scheduleCssUpdate:function(){y||m?d=!0:e.update()},addEvaluator:function(t){v=!0,k.push(t)},addComputation:function(t){v=!0,S.push(t)},addSelectValue:function(t){v=!0,O.push(t)},addCheckbox:function(t){R[t.keypath]||(v=!0,A.push(t))},addRadio:function(t){v=!0,C.push(t)},addUnresolved:function(t){v=!0,L.push(t)},removeUnresolved:function(t){n(L,t)},detachWhenReady:function(t){g.detachQueue.push(t)}},t.runloop=p,p}(w,E,b,x,N,k,S,O),A=function(t,e,n){var r=[],i={tick:function(){var o,s,a;for(a=e(),n.start(),o=0;o<r.length;o+=1)s=r[o],s.tick(a)||r.splice(o--,1);n.end(),r.length?t(i.tick):i.running=!1},add:function(e){r.push(e),i.running||(i.running=!0,t(i.tick))},abort:function(t,e){for(var n,i=r.length;i--;)n=r[i],n.root===e&&n.keypath===t&&n.stop()}};return i}(m,y,R),C=function(){var t=Object.prototype.toString;return function(e){return"[object Array]"===t.call(e)}}(),L=function(t){return function(e){var n,r;if(!e||"object"!=typeof e)return e;if(t(e))return e.slice();n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}}(C),M={},I=function(t,e,n){switch(e){case"splice":return n;case"sort":case"reverse":return null;case"pop":return t.length?[-1]:null;case"push":return[t.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}},F=function(t,e){var n,r,i,o;return e?(n=+(e[0]<0?t.length+e[0]:e[0]),r=Math.max(0,e.length-2),i=void 0!==e[1]?e[1]:t.length-n,i=Math.min(i,t.length-n),o=r-i,{start:n,balance:o,added:r,removed:i}):null},j={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40},P=function fo(t,e,n){var r,i;if(n||(i=t._wrapped[e])&&i.teardown()!==!1&&(t._wrapped[e]=null),t._cache[e]=void 0,r=t._cacheMap[e])for(;r.length;)fo(t,r.pop())},D=function(){var t=/^\s*[0-9]+\s*$/;return function(e){return t.test(e)?[]:{}}}(),U=function(t,e,n,r,i){function o(t,a,u,h){var c,p,f,l,d,g,v,m;e(t._cache[a],u)||(d=t._computations[a],g=t._wrapped[a],v=t._evaluators[a],d&&!d.setting&&d.set(u),g&&g.reset&&(m=g.reset(u)!==!1,m&&(u=g.get())),v&&(v.value=u),d||v||m||(c=a.split("."),p=c.pop(),f=c.join("."),g=t._wrapped[f],g&&g.set?g.set(p,u):(l=g?g.get():s(t,f),l||(l=n(p),o(t,f,l,!0)),l[p]=u)),r(t,a,m),h||(t._changes.push(a),i(t,a)))}var s;return t.push(function(){s=t.get}),t.set=o,o}(w,l,D,P,S),B=function(t,e,n,r){return function(i,o,s,a){var u,h,c,p,f,l,d,g,v,m;if(u=i.root,h=i.keypath,u._changes.push(h),"sort"===s||"reverse"===s)return r(u,h,o),void 0;if(a){for(c=a.balance?o.length-Math.min(a.balance,0):a.added,f=a.start;c>f;f+=1)e(u,h+"."+f);if(p=function(e){e.keypath===h&&e.type===t.SECTION&&!e.inverted&&e.docFrag?e.splice(a):e.update()},u._deps.forEach(function(t){var e=t[h];e&&e.forEach(p)}),a.added&&a.removed)for(l=Math.max(a.added,a.removed),d=a.start,g=d+l,m=a.added===a.removed,f=d;g>f;f+=1)v=h+"."+f,n(u,v);m||(e(u,h+".length"),n(u,h+".length",!0))}}}(j,P,S,U),W=function(t,e,n,r,i){var o,s,a,u=[],h=["pop","push","reverse","shift","sort","splice","unshift"];return h.forEach(function(o){var s=function(){var e,s,a,u,h;for(e=n(this,o,Array.prototype.slice.call(arguments)),s=r(this,e),a=Array.prototype[o].apply(this,arguments),this._ractive.setting=!0,h=this._ractive.wrappers.length;h--;)u=this._ractive.wrappers[h],t.start(u.root),i(u,this,o,s),t.end();return this._ractive.setting=!1,a};e(u,o,{value:s})}),o={},o.__proto__?(s=function(t){t.__proto__=u},a=function(t){t.__proto__=Array.prototype}):(s=function(t){var n,r;for(n=h.length;n--;)r=h[n],e(t,r,{value:u[r],configurable:!0})},a=function(t){var e;for(e=h.length;e--;)delete t[h[e]]}),s.unpatch=a,s}(R,u,I,F,B),q=function(t,e,n){var r,i,o;return r={filter:function(t){return e(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new i(t,e,n)}},i=function(e,r,i){this.root=e,this.value=r,this.keypath=i,r._ractive||(t(r,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(r)),r._ractive.instances[e._guid]||(r._ractive.instances[e._guid]=0,r._ractive.instances.push(e)),r._ractive.instances[e._guid]+=1,r._ractive.wrappers.push(this)},i.prototype={get:function(){return this.value},teardown:function(){var t,e,r,i,s;if(t=this.value,e=t._ractive,r=e.wrappers,i=e.instances,e.setting)return!1;if(s=r.indexOf(this),-1===s)throw new Error(o);if(r.splice(s,1),r.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(s=i.indexOf(this.root),-1===s)throw new Error(o);i.splice(s,1)}}else delete t._ractive,n.unpatch(this.value)}},o="Something went wrong in a rather interesting way",r}(u,C,W),z=function(t,e,n,r,i){function o(e,n,o){function s(e){var o,s;e.value=n,e.updating||(s=e.ractive,o=e.keypath,e.updating=!0,t.start(s),s._changes.push(o),r(s,o),i(s,o),t.end(),e.updating=!1)}var a,u,h,c,p,f;if(a=e.obj,u=e.prop,o&&!o.configurable){if("length"===u)return;throw new Error('Cannot use magic mode with property "'+u+'" - object is not configurable')}o&&(h=o.get,c=o.set),p=h||function(){return n},f=function(t){c&&c(t),n=h?h():t,f._ractiveWrappers.forEach(s)},f._ractiveWrappers=[e],Object.defineProperty(a,u,{get:p,set:f,enumerable:!0,configurable:!0})}var s,a;try{Object.defineProperty({},"test",{value:0})}catch(u){return!1}return s={filter:function(t,e,r){var i,o,s,a,u;return e?(i=e.split("."),o=i.pop(),s=i.join("."),(a=r._wrapped[s])&&!a.magic?!1:(u=r.get(s),n(u)&&/^[0-9]+$/.test(o)?!1:u&&("object"==typeof u||"function"==typeof u))):!1},wrap:function(t,e,n){return new a(t,e,n)}},a=function(t,e,n){var r,i,s,a;return this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,r=n.split("."),this.prop=r.pop(),i=r.join("."),this.obj=i?t.get(i):t.data,s=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),s&&s.set&&(a=s.set._ractiveWrappers)?(-1===a.indexOf(this)&&a.push(this),void 0):(o(this,e,s),void 0)},a.prototype={get:function(){return this.value},reset:function(t){this.updating||(this.updating=!0,this.obj[this.prop]=t,r(this.ractive,this.keypath),this.updating=!1)},set:function(t,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=e(t),this.updating=!1),this.obj[this.prop][t]=n)},teardown:function(){var t,e,n,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,e&&(r=e._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n)),void 0)}},s}(R,D,C,P,S),Q=function(t,e){if(!t)return!1;var n,r;return n={filter:function(n,r,i){return t.filter(n,r,i)&&e.filter(n)},wrap:function(t,e,n){return new r(t,e,n)}},r=function(n,r,i){this.value=r,this.magic=!0,this.magicWrapper=t.wrap(n,r,i),this.arrayWrapper=e.wrap(n,r,i)},r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}},n}(z,q),J=function(t,e,n,r){function i(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function o(t){var e;return s[t]||(e=t?t+".":"",s[t]=function(n,r){var o;return"string"==typeof n?(o={},o[e+n]=r,o):"object"==typeof n?e?i(n,t):n:void 0}),s[t]}var s={};return function(i,s,a,u){var h,c,p,f;for(h=i.adapt.length,c=0;h>c;c+=1){if(p=i.adapt[c],"string"==typeof p){if(!t[p])throw new Error('Missing adaptor "'+p+'"');p=i.adapt[c]=t[p]}if(p.filter(a,s,i))return f=i._wrapped[s]=p.wrap(i,a,s,o(s)),f.value=a,a}return u||(i.magic?r.filter(a,s,i)?i._wrapped[s]=r.wrap(i,a,s):n.filter(a,s,i)&&(i._wrapped[s]=n.wrap(i,a,s)):i.modifyArrays&&e.filter(a,s,i)&&(i._wrapped[s]=e.wrap(i,a,s))),a}}(M,q,z,Q),V=function(){function t(t,e){var n,r,i;for(n=e.split(".");n.length;)n.pop(),r=n.join("."),i=t._depsMap[r]||(t._depsMap[r]=[]),void 0===i[e]&&(i[e]=0,i[i.length]=e),i[e]+=1,e=r}return function(e){var n,r,i,o,s;i=e.root,o=e.keypath,s=e.priority,n=i._deps[s]||(i._deps[s]={}),r=n[o]||(n[o]=[]),r.push(e),e.registered=!0,o&&t(i,o)}}(),$=function(){function t(t,e){var n,r,i;for(n=e.split(".");n.length;)n.pop(),r=n.join("."),i=t._depsMap[r],i[e]-=1,i[e]||(i.splice(i.indexOf(e),1),i[e]=void 0),e=r}return function(e){var n,r,i,o,s;if(i=e.root,o=e.keypath,s=e.priority,n=i._deps[s][o],r=n.indexOf(e),-1===r||!e.registered)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");n.splice(r,1),e.registered=!1,o&&t(i,o)}}(),H=function(t,e,n,r,i,o){var s,a;t.push(function(){s=t.get,a=t.set});var u=function(t,e,n,r,o){this.root=t,this.keypath=e,this.priority=o,this.otherInstance=n,this.otherKeypath=r,i(this),this.value=s(this.root,this.keypath)};return u.prototype={update:function(){var t;this.updating||this.counterpart&&this.counterpart.updating||(t=s(this.root,this.keypath),n(t)&&t._ractive&&t._ractive.setting||r(t,this.value)||(this.updating=!0,e.addInstance(this.otherInstance),a(this.otherInstance,this.otherKeypath,t),this.value=t,this.updating=!1))},reassign:function(t){o(this),o(this.counterpart),this.keypath=t,this.counterpart.otherKeypath=t,i(this),i(this.counterpart)},teardown:function(){o(this)}},function(t,e,n,r){var i,o,s,a,h,c;i=n+"="+r,s=t.bindings,s[i]||(s[i]=!0,o=t.instance,a=t.parentFragment.priority,h=new u(e,n,o,r,a),s.push(h),o.twoway&&(c=new u(o,r,e,n,1),s.push(c),h.counterpart=c,c.counterpart=h))}}(w,R,C,l,V,$),X=function(t,e,n){function r(t,r,i,o,s){n(r,o,s,!0),e(r.component,t,i,o)}var i;return t.push(function(){i=t.get}),function(t,e){var n,o,s,a,u;if(n=t._parent,o=t.component.parentFragment,o.indexRefs&&void 0!==(u=o.indexRefs[e]))return t.component.indexRefBindings[e]=e,u;do if(o.context&&(s=o.context+"."+e,a=i(n,s),void 0!==a))return r(n,t,s,e,a),a;while(o=o.parent);return a=i(n,e),void 0!==a?(r(n,t,e,e,a),a):void 0}}(w,H,U),G={FAILED_LOOKUP:!0},K=function(t,e,n,r,i,o){function s(t,e,n){var s,u,h,c,p=t._cache;return void 0===p[e]?((u=t._computations[e])?s=u.value:(h=t._wrapped[e])?s=h.value:e?s=(c=t._evaluators[e])?c.value:a(t,e):(r(t,"",t.data),s=t.data),p[e]=s):s=p[e],s===o&&(s=t._parent&&!t.isolated?i(t,e,n):void 0),n&&n.evaluateWrapped&&(h=t._wrapped[e])&&(s=h.get()),s}function a(t,i){var a,u,h,c,p,f,l,d;return a=i.split("."),u=a.pop(),h=a.join("."),c=s(t,h),(l=t._wrapped[h])&&(c=l.get()),null!==c&&void 0!==c?((p=t._cacheMap[h])?-1===p.indexOf(i)&&p.push(i):t._cacheMap[h]=[i],"object"!=typeof c||u in c?(d=!e.call(c,u),f=d?n(c[u]):c[u],f=r(t,i,f,!1),t._cache[i]=f,f):t._cache[i]=o):void 0}return t.get=s,s}(w,_,L,J,X,G),Y=function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(){console.warn.apply(console,arguments)}:function(){}}(),Z=function(){var t=Object.prototype.toString;return function(e){return"object"==typeof e&&"[object Object]"===t.call(e)}}(),te=function(t,e,n,r,i){var o,s,a;return t.push(function(){s=t.interpolate}),a=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,o={number:function(t,e){var n;return i(t)&&i(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var r,i,o,a;if(!n(t)||!n(e))return null;for(r=[],i=[],a=o=Math.min(t.length,e.length);a--;)i[a]=s(t[a],e[a]);for(a=o;a<t.length;a+=1)r[a]=t[a];for(a=o;a<e.length;a+=1)r[a]=e[a];return function(t){for(var e=o;e--;)r[e]=i[e](t);return r}},object:function(t,n){var i,o,a,u,h;if(!r(t)||!r(n))return null;i=[],u={},a={};for(h in t)e.call(t,h)&&(e.call(n,h)?(i.push(h),a[h]=s(t[h],n[h])):u[h]=t[h]);for(h in n)e.call(n,h)&&!e.call(t,h)&&(u[h]=n[h]);return o=i.length,function(t){for(var e,n=o;n--;)e=i[n],u[e]=a[e](t);return u}},cssLength:function(t,e){var n,r,i,o,s,u,h,c;return 0!==t&&"string"!=typeof t||0!==e&&"string"!=typeof e?null:(n=a.exec(t),r=a.exec(e),i=n?n[2]:"",o=r?r[2]:"",i&&o&&i!==o?null:(h=i||o,s=n?+n[1]:0,u=r?+r[1]:0,c=u-s,c?function(t){return s+t*c+h}:function(){return s+h}))}}}(w,_,C,Z,c),ee=function(t,e,n){function r(t){return function(){return t}}var i=function(t,i,o,s){if(t===i)return r(i);if(s){if(o.interpolators[s])return o.interpolators[s](t,i)||r(i);e('Missing "'+s+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(t,i)||n.array(t,i)||n.object(t,i)||n.cssLength(t,i)||r(i)};return t.interpolate=i,i}(w,Y,te),ne=function(t,e,n,r){var i=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0};return i.prototype={tick:function(){var n,i,o,s,a,u;return u=this.keypath,this.running?(s=Date.now(),n=s-this.startTime,n>=this.duration?(null!==u&&(e.start(this.root),r(this.root,u,this.to),e.end()),this.step&&this.step(1,this.to),this.complete(this.to),a=this.root._animations.indexOf(this),-1===a&&t("Animation was not found"),this.root._animations.splice(a,1),this.running=!1,!1):(i=this.easing?this.easing(n/this.duration):n/this.duration,null!==u&&(o=this.interpolator(i),e.start(this.root),r(this.root,u,o),e.end()),this.step&&this.step(i,o),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&t("Animation was not found"),this.root._animations.splice(e,1)}},i}(Y,R,ee,U),re=function(t,e,n,r,i,o){function s(e,s,a,h){var c,p,f,l;return s&&(s=n(s)),null!==s&&(l=i(e,s)),r.abort(s,e),t(l,a)?(h.complete&&h.complete(h.to),u):(h.easing&&(c="function"==typeof h.easing?h.easing:e.easing[h.easing],"function"!=typeof c&&(c=null)),p=void 0===h.duration?400:h.duration,f=new o({keypath:s,from:l,to:a,root:e,duration:p,easing:c,interpolator:h.interpolator,step:h.step,complete:h.complete}),r.add(f),e._animations.push(f),f)}var a=function(){},u={stop:a};return function(t,n,r){var i,o,u,h,c,p,f,l,d,g,v,m,y,w;if(i=new e(function(t){o=t}),"object"==typeof t){r=n||{},p=r.easing,f=r.duration,c=[],l=r.step,d=r.complete,(l||d)&&(v={},r.step=null,r.complete=null,g=function(t){return function(e,n){v[t]=n}});for(u in t)t.hasOwnProperty(u)&&((l||d)&&(m=g(u),r={easing:p,duration:f},l&&(r.step=m)),r.complete=d?m:a,c.push(s(this,u,t[u],r)));return(l||d)&&(w={easing:p,duration:f},l&&(w.step=function(t){l(t,v)}),d&&i.then(function(t){d(t,v)}),w.complete=o,y=s(this,null,null,w),c.push(y)),{stop:function(){for(var t;t=c.pop();)t.stop();y&&y.stop()}}}return r=r||{},r.complete&&i.then(r.complete),r.complete=o,h=s(this,t,n,r),i.stop=function(){h.stop()},i}}(l,d,g,A,K,ne),ie=function(){return this.fragment.detach()},oe=function(t){return this.el?this.fragment.find(t):null},se=function(t,e,n){var r,i,o,s,a,u,h;if(t){for(r=n("div"),i=["matches","matchesSelector"],h=function(t){return function(e,n){return e[t](n)}},a=i.length;a--;){if(o=i[a],r[o])return h(o);for(u=e.length;u--;)if(s=e[a]+o.substr(0,1).toUpperCase()+o.substring(1),r[s])return h(s)}return function(t,e){var n,r;for(n=(t.parentNode||t.document).querySelectorAll(e),r=n.length;r--;)if(n[r]===t)return!0;return!1}}}(a,v,s),ae=function(t){return function(e,n){var r=this._isComponentQuery?!this.selector||e.name===this.selector:t(e.node,this.selector);return r?(this.push(e.node||e.instance),n||this._makeDirty(),!0):void 0}}(se),ue=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},he=function(){function t(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function e(e){var n,r;for(n=[e],r=t(e);r;)n.push(r),r=t(r);return n}return function(t,n){var r,i,o,s,a,u,h,c,p,f;for(r=e(t.component||t._ractive.proxy),i=e(n.component||n._ractive.proxy),o=r[r.length-1],s=i[i.length-1];o&&o===s;)r.pop(),i.pop(),a=o,o=r[r.length-1],s=i[i.length-1];if(o=o.component||o,s=s.component||s,p=o.parentFragment,f=s.parentFragment,p===f)return u=p.items.indexOf(o),h=f.items.indexOf(s),u-h||r.length-i.length;if(c=a.fragments)return u=c.indexOf(p),h=c.indexOf(f),u-h||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),ce=function(t){return function(e,n){var r;return e.compareDocumentPosition?(r=e.compareDocumentPosition(n),2&r?1:-1):t(e,n)}}(he),pe=function(t,e){return function(){this.sort(this._isComponentQuery?e:t),this._dirty=!1}}(ce,he),fe=function(t){return function(){this._dirty||(t.addLiveQuery(this),this._dirty=!0)}}(R),le=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},de=function(t,e,n,r,i,o){return function(s,a,u,h){var c=[];return t(c,{selector:{value:a},live:{value:u},_isComponentQuery:{value:h},_test:{value:e}}),u?(t(c,{cancel:{value:n},_root:{value:s},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:!1,writable:!0}}),c):c}}(h,ae,ue,pe,fe,le),ge=function(t){return function(e,n){var r,i;return this.el?(n=n||{},r=this._liveQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!1),i.live&&(r.push(e),r[e]=i),this.fragment.findAll(e,i),i)):[]}}(de),ve=function(t){return function(e,n){var r,i;return n=n||{},r=this._liveComponentQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!0),i.live&&(r.push(e),r[e]=i),this.fragment.findAllComponents(e,i),i)}}(de),me=function(t){return this.fragment.findComponent(t)},ye=function(t){var e,n,r,i=this._subs[t];if(i)for(e=Array.prototype.slice.call(arguments,1),n=0,r=i.length;r>n;n+=1)i[n].apply(this,e)},we=function(t,e,n,r){var i,o={};t.push(function(){i=t.get});var s=function(t,e){this.root=t,this.ref=e,this.parentFragment=o,t._unresolvedImplicitDependencies[e]=!0,t._unresolvedImplicitDependencies.push(this),n.addUnresolved(this)};return s.prototype={resolve:function(){var t=this.root;r(t,this.ref),t._unresolvedImplicitDependencies[this.ref]=!1,e(t._unresolvedImplicitDependencies,this)},teardown:function(){n.removeUnresolved(this)}},s}(w,b,R,S),be=function(t,e,n){var r={isTopLevel:!0};return function(i){var o;return i=t(i),o=e(this,i,r),this._captured&&this._captured[i]!==!0&&(this._captured.push(i),this._captured[i]=!0,void 0===o&&this._unresolvedImplicitDependencies[i]!==!0&&new n(this,i)),o}}(g,K,we),Ee=function(t){var e;return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null},xe=function(t){return function(e,n){if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.fragment.pNode=this.el=e}}(Ee),_e=function(t,e){var n,r,i,o;return n={},r=0,i=t.map(function(t,i){var s,a,u;a=r,u=e.length;do{if(s=e.indexOf(t,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===r&&(r+=1),s!==i&&(o=!0),n[s]=!0,s}),i.unchanged=!o,i},Te=function(t,e){return function(n,r,i,o){var s;n._changes.push(r),s=function(e){e.type===t.REFERENCE?e.update():e.keypath===r&&e.type===t.SECTION&&!e.inverted&&e.docFrag?e.merge(i):e.update()},n._deps.forEach(function(t){var e=t[r];e&&e.forEach(s)}),o||e(n,r+".length",!0)}}(j,S),Ne=function(t,e,n,r,i,o,s){function a(t){return JSON.stringify(t)}function u(t){if(t===!0)return a;if("string"==typeof t)return h[t]||(h[t]=function(e){return e[t]}),h[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var h={};return function(a,h,c){var p,f,l,d,g,v,m,y;if(p=this.get(a),!n(p)||!n(h))return this.set(a,h,c&&c.complete);if(g=p.length===h.length,c&&c.compare){d=u(c.compare);try{f=p.map(d),l=h.map(d)}catch(w){if(this.debug)throw w;e("Merge operation: comparison failed. Falling back to identity checking"),f=p,l=h}}else f=p,l=h;return v=o(f,l),m=new r(function(t){y=t}),t.start(this,y),i(this,a,h,!0),s(this,a,v,g),t.end(),c&&c.complete&&m.then(c.complete),m}}(R,Y,C,d,U,_e,Te),ke=function(t,e,n){var r=function(t,e,n,r){var i=this;this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.proxy={update:function(){i.reallyUpdate()}},this.priority=0,this.context=r&&r.context?r.context:t};return r.prototype={init:function(t){t!==!1?this.update():this.value=n(this.root,this.keypath)},update:function(){return this.defer&&this.ready?(t.addObserver(this.proxy),void 0):(this.reallyUpdate(),void 0)},reallyUpdate:function(){var t,r;if(t=this.value,r=n(this.root,this.keypath),this.value=r,!this.updating){if(this.updating=!0,!e(r,t)||!this.ready)try{this.callback.call(this.context,r,t,this.keypath)}catch(i){if(this.debug||this.root.debug)throw i}this.updating=!1}}},r}(R,l,K),Se=function(t){return function(e,n){var r,i,o,s,a,u,h;for(r=n.split("."),s=[],u=function(n){var r,i;r=e._wrapped[n]?e._wrapped[n].get():e.get(n);for(i in r)!r.hasOwnProperty(i)||"_ractive"===i&&t(r)||a.push(n+"."+i)},h=function(t){return t+"."+i};i=r.shift();)"*"===i?(a=[],s.forEach(u),s=a):s[0]?s=s.map(h):s[0]=i;return o={},s.forEach(function(t){o[t]=e.get(t)}),o}}(C),Oe=function(t,e,n,r){var i,o=/\*/;return i=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.keypath=e,this.regex=new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=r&&r.context?r.context:t},i.prototype={init:function(t){var e,n;if(e=r(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(n);else this.values=e},update:function(e){var n;{if(!o.test(e))return this.defer&&this.ready?(t.addObserver(this.getProxy(e)),void 0):(this.reallyUpdate(e),void 0);n=r(this.root,e);for(e in n)n.hasOwnProperty(e)&&this.update(e)}},reallyUpdate:function(t){var r=n(this.root,t);if(this.updating)return this.values[t]=r,void 0;if(this.updating=!0,!e(r,this.values[t])||!this.ready){try{this.callback.call(this.context,r,this.values[t],t)}catch(i){if(this.debug||this.root.debug)throw i}this.values[t]=r}this.updating=!1},getProxy:function(t){var e=this;return this.proxies[t]||(this.proxies[t]={update:function(){e.reallyUpdate(t)}}),this.proxies[t]}},i}(R,l,K,Se),Re=function(t,e,n,r,i){var o=/\*/,s={};return function(a,u,h,c){var p,f;return u=t(u),c=c||s,o.test(u)?(p=new i(a,u,h,c),a._patternObservers.push(p),f=!0):p=new r(a,u,h,c),e(p),p.init(c.init),p.ready=!0,{cancel:function(){var t;f&&(t=a._patternObservers.indexOf(p),-1!==t&&a._patternObservers.splice(t,1)),n(p)
}}}}(g,V,$,ke,Oe),Ae=function(t,e){return function(n,r,i){var o,s,a,u;if(t(n)){i=r,s=n,o=[];for(n in s)s.hasOwnProperty(n)&&(r=s[n],o.push(this.observe(n,r,i)));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}if("function"==typeof n)return i=r,r=n,n="",e(this,n,r,i);if(a=n.split(" "),1===a.length)return e(this,n,r,i);for(o=[],u=a.length;u--;)n=a[u],n&&o.push(e(this,n,r,i));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}}(Z,Re),Ce=function(t,e){var n,r;if(!e)if(t)this._subs[t]=[];else for(t in this._subs)delete this._subs[t];n=this._subs[t],n&&(r=n.indexOf(e),-1!==r&&n.splice(r,1))},Le=function(t,e){var n,r,i=this;if("object"==typeof t){n=[];for(r in t)t.hasOwnProperty(r)&&n.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return this._subs[t]?this._subs[t].push(e):this._subs[t]=[e],{cancel:function(){i.off(t,e)}}},Me=function(){var t;try{Object.create(null),t=Object.create}catch(e){t=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}return t}(),Ie=function(t,e){return function(n,r){var i,o,s,a,u;if(n.owner=r.owner,s=n.parent=n.owner.parentFragment,n.root=r.root,n.pNode=r.pNode,n.pElement=r.pElement,n.context=r.context,n.owner.type===t.SECTION&&(n.index=r.index),s&&(a=s.indexRefs)){n.indexRefs=e(null);for(u in a)n.indexRefs[u]=a[u]}for(n.priority=s?s.priority+1:1,r.indexRef&&(n.indexRefs||(n.indexRefs={}),n.indexRefs[r.indexRef]=r.index),n.items=[],i=r.descriptor?r.descriptor.length:0,o=0;i>o;o+=1)n.items[n.items.length]=n.createItem({parentFragment:n,pElement:r.pElement,descriptor:r.descriptor[o],index:o})}}(j,Me),Fe=function(t,e){return t.substr(0,e.length+1)===e+"."},je=function(t){return function(e,n){return e===n||t(e,n)}}(Fe),Pe=function(t){return function(e,n,r){return e===n?r:t(e,n)?e.replace(n+".",r+"."):void 0}}(Fe),De=function(t,e){return function(n,r,i,o){n[r]&&!t(n[r],o)&&(n[r]=e(n[r],i,o))}}(je,Pe),Ue=function(t){return function(e,n,r,i){void 0===this.html&&(t(this,"context",r,i),this.indexRefs&&void 0!==this.indexRefs[e]&&this.indexRefs[e]!==n&&(this.indexRefs[e]=n),this.items.forEach(function(t){t.reassign(e,n,r,i)}))}}(De),Be=function(t,e){return{init:t,reassign:e}}(Ie,Ue),We=function(t,e){function n(t){return o[t]||(o[t]=e(t))}var r,i,o={};try{e("table").innerHTML="foo"}catch(s){r=!0,i={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(e,o,s,a){var u,h,c=[];if(e)for(r&&(h=i[o])?(u=n("DIV"),u.innerHTML=h[0]+e+h[1],u=u.querySelector(".x")):s===t.svg?(u=n("DIV"),u.innerHTML='<svg class="x">'+e+"</svg>",u=u.querySelector(".x")):(u=n(o),u.innerHTML=e);u.firstChild;)c.push(u.firstChild),a.appendChild(u.firstChild);return c}}(o,s),qe=function(){var t,e=this.node;return e&&(t=e.parentNode)?(t.removeChild(e),e):void 0},ze=function(t,e){var n,r,i;return r=/</g,i=/>/g,n=function(e,n){this.type=t.TEXT,this.descriptor=e.descriptor,n&&(this.node=document.createTextNode(e.descriptor),n.appendChild(this.node))},n.prototype={detach:e,reassign:function(){},teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(r,"&lt;").replace(i,"&gt;")}},n}(j,qe),Qe=function(t,e){return function(n){n.keypath?e(n):t.removeUnresolved(n)}}(R,$),Je=function(t){var e=function(e,n,r,i){this.root=e,this.ref=n,this.parentFragment=r,this.resolve=i,t.addUnresolved(this)};return e.prototype={teardown:function(){t.removeUnresolved(this)}},e}(R),Ve=function(t,e,n,r,i){function o(t,e,r){var i,o,s;if(!a.test(t.toString()))return n(t,"_nowrap",{value:!0}),t;if(!t["_"+e._guid]){n(t,"_"+e._guid,{value:function(){var n,r,i,s;if(n=e._captured,n||(e._captured=[]),r=t.apply(e,arguments),e._captured.length)for(i=o.length;i--;)s=o[i],s.updateSoftDependencies(e._captured);return e._captured=n,r},writable:!0});for(i in t)t.hasOwnProperty(i)&&(t["_"+e._guid][i]=t[i]);t["_"+e._guid+"_evaluators"]=[]}return o=t["_"+e._guid+"_evaluators"],s=o.indexOf(r),-1===s&&o.push(r),t["_"+e._guid]}var s,a;return a=/this/,s=function(e,n,i,s,a){var u;this.evaluator=i,this.keypath=n,this.root=e,this.argNum=s,this.type=t.REFERENCE,this.priority=a,u=e.get(n),"function"==typeof u&&(u=o(u,e,i)),this.value=i.values[s]=u,r(this)},s.prototype={update:function(){var t=this.root.get(this.keypath);"function"!=typeof t||t._nowrap||(t=o(t,this.root,this.evaluator)),e(t,this.value)||(this.evaluator.values[this.argNum]=t,this.evaluator.bubble(),this.value=t)},teardown:function(){i(this)}},s}(j,l,u,V,$),$e=function(t,e,n){var r=function(t,n,r){this.root=t,this.keypath=n,this.priority=r.priority,this.evaluator=r,e(this)};return r.prototype={update:function(){var e=this.root.get(this.keypath);t(e,this.value)||(this.evaluator.bubble(),this.value=e)},teardown:function(){n(this)}},r}(l,V,$),He=function(t,e,n,r,i,o,s,a){function u(t,e){var n,r;if(t=t.replace(/\$\{([0-9]+)\}/g,"_$1"),c[t])return c[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),c[t]=n,n}var h,c={};return h=function(t,e,n,r,i,o){var a=this;a.root=t,a.uniqueString=n,a.keypath=e,a.priority=o,a.fn=u(r,i.length),a.values=[],a.refs=[],i.forEach(function(e,n){e&&(e.indexRef?a.values[n]=e.value:a.refs.push(new s(t,e.keypath,a,n,o)))}),a.selfUpdating=a.refs.length<=1},h.prototype={bubble:function(){this.selfUpdating?this.update():this.deferred||(t.addEvaluator(this),this.deferred=!0)},update:function(){var t;if(this.evaluating)return this;this.evaluating=!0;try{t=this.fn.apply(null,this.values)}catch(s){this.root.debug&&e('Error evaluating "'+this.uniqueString+'": '+s.message||s),t=void 0}return n(t,this.value)||(this.value=t,r(this.root,this.keypath),o(this.root,this.keypath,t,!0),i(this.root,this.keypath)),this.evaluating=!1,this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();r(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);for(var t=this.refs.length;t--;)this.refs[t].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(t){var e,n,r;for(this.softRefs||(this.softRefs=[]),e=this.softRefs.length;e--;)r=this.softRefs[e],t[r.keypath]||(this.softRefs.splice(e,1),this.softRefs[r.keypath]=!1,r.teardown());for(e=t.length;e--;)n=t[e],this.softRefs[n]||(r=new a(this.root,n,this),this.softRefs.push(r),this.softRefs[n]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},h}(R,Y,l,P,S,J,Ve,$e),Xe=function(t,e,n,r,i){function o(t,e){return t.replace(/\$\{([0-9]+)\}/g,function(t,n){return e[n]?e[n].value||e[n].keypath:"undefined"})}function s(t){return"${"+t.replace(/[\.\[\]]/g,"-")+"}"}var a=function(r,i,o,s){var a,u,h,c=this;return a=r.root,this.root=a,this.callback=s,this.owner=r,this.str=o.s,this.args=h=[],this.unresolved=[],this.pending=0,u=i.indexRefs,o.r&&o.r.length?(o.r.forEach(function(r,o){var s,p,f;return u&&void 0!==(s=u[r])?(h[o]={indexRef:r,value:s},void 0):(p=e(a,r,i))?(h[o]={keypath:p},void 0):(h[o]=void 0,c.pending+=1,f=new n(a,r,i,function(e){c.resolve(o,e),t(c.unresolved,f)}),c.unresolved.push(f),void 0)}),this.ready=!0,this.bubble(),void 0):(this.resolved=this.ready=!0,this.bubble(),void 0)};return a.prototype={bubble:function(){this.ready&&(this.uniqueString=o(this.str,this.args),this.keypath=s(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},resolve:function(t,e){this.args[t]={keypath:e},this.bubble(),this.resolved=!--this.pending},createEvaluator:function(){var t;this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():(t=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority),this.root._evaluators[this.keypath]=t,t.update())},reassign:function(t,e,n,r){var o;this.args.forEach(function(s){var a;s.keypath&&(a=i(s.keypath,n,r))?(s.keypath=a,o=!0):s.indexRef===t&&(s.value=e,o=!0)}),o&&this.bubble()}},a}(b,N,Je,He,Pe),Ge=function(t,e,n,r,i,o,s){var a=function(i,o,a){var h,c,p,f,l,d=this;return h=i.root,c=i.parentFragment,this.ref=o.r,this.root=i.root,this.mustache=i,this.callback=a,this.pending=0,this.unresolved=[],l=this.members=[],this.indexRefMembers=[],this.keypathObservers=[],this.expressionResolvers=[],o.m.forEach(function(o,a){var g,v,m,y,w,b;return"string"==typeof o?(d.members[a]=o,void 0):o.t===t.REFERENCE?(g=o.n,v=c.indexRefs,v&&void 0!==(m=v[g])?(l[a]=m,d.indexRefMembers.push({ref:g,index:a}),void 0):(f=!0,y=function(t){var e=new u(h,t,i.priority,d,a);d.keypathObservers.push(e)},(p=n(h,g,c))?(y(p),void 0):(l[a]=void 0,d.pending+=1,w=new r(h,g,c,function(t){d.resolve(a,t),e(d.unresolved,w)}),d.unresolved.push(w),null))):(f=!0,d.pending+=1,b=new s(d,c,o,function(t){d.resolve(a,t),e(d.unresolved,b)}),d.unresolved.push(b),void 0)}),f?(this.ready=!0,this.bubble(),void 0):(p=this.getKeypath(),a(p),void 0)};a.prototype={getKeypath:function(){return this.ref+"."+this.members.join(".")},bubble:function(){this.ready&&!this.pending&&this.callback(this.getKeypath())},resolve:function(t,e){var n=new u(this.root,e,this.mustache.priority,this,t);n.update(),this.keypathObservers.push(n),this.resolved=!--this.pending,this.bubble()},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},reassign:function(t,e){var n,r,i;for(r=this.indexRefMembers.length;r--;)i=this.indexRefMembers[r],i.ref===t&&(n=!0,this.members[i.index]=e);n&&this.bubble()}};var u=function(t,e,n,r,o){this.root=t,this.keypath=e,this.priority=n,this.resolver=r,this.index=o,i(this),this.update()};return u.prototype={update:function(){var t=this.resolver;t.members[this.index]=this.root.get(this.keypath),t.bubble()},teardown:function(){o(this)}},a}(j,b,N,Je,V,$,Xe),Ke=function(t,e,n,r){return function(i,o){var s,a,u,h,c,p,f;c=o.parentFragment,p=o.descriptor,i.root=c.root,i.parentFragment=c,i.descriptor=o.descriptor,i.index=o.index||0,i.priority=c.priority,i.type=o.descriptor.t,f=function(t){i.resolve(t)},(s=p.r)&&(u=c.indexRefs,u&&void 0!==(h=u[s])?(i.indexRef=s,i.value=h,i.render(i.value)):(a=e(i.root,s,i.parentFragment),void 0!==a?f(a):(i.ref=s,t.addUnresolved(i)))),o.descriptor.x&&(i.resolver=new r(i,c,o.descriptor.x,f)),o.descriptor.kx&&(i.resolver=new n(i,o.descriptor.kx,f)),i.descriptor.n&&!i.hasOwnProperty("value")&&i.render(void 0)}}(R,N,Ge,Xe),Ye=function(t,e){var n={evaluateWrapped:!0};return function(){var r=e(this.root,this.keypath,n);t(r,this.value)||(this.render(r),this.value=r)}}(l,K),Ze=function(t,e,n){return function(r){var i;if(r!==this.keypath){if(this.registered&&(n(this),this.type===t.SECTION))for(i=this.fragments.length;i--;)this.fragments[i].reassign(null,null,this.keypath,r);this.keypath=r,e(this),this.update()}}}(j,V,$),tn=function(t){return function(e,n,r,i){var o,s;if(this.resolver?this.resolver.reassign(e,n,r,i):this.keypath?(o=t(this.keypath,r,i),o&&this.resolve(o)):void 0!==e&&this.indexRef===e&&(this.value=n,this.render(n)),this.fragments)for(s=this.fragments.length;s--;)this.fragments[s].reassign(e,n,r,i)}}(Pe),en=function(t,e,n,r){return{init:t,update:e,resolve:n,reassign:r}}(Ke,Ye,Ze,tn),nn=function(t,e,n,r){var i,o,s;return o=/</g,s=/>/g,i=function(e,r){this.type=t.INTERPOLATOR,r&&(this.node=document.createTextNode(""),r.appendChild(this.node)),n.init(this,e)},i.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:r,teardown:function(t){t&&this.detach(),e(this)},render:function(t){this.node&&(this.node.data=void 0==t?"":t)},firstNode:function(){return this.node},toString:function(){var t=void 0!=this.value?""+this.value:"";return t.replace(o,"&lt;").replace(s,"&gt;")}},i}(j,Qe,en,qe),rn=function(){var t=[];return function(e){var n,r,i,o,s,a,u,h,c=this;for(n=this.parentFragment,s=[],e.forEach(function(e,n){var i,o,a,u;return e===n?(s[e]=c.fragments[n],void 0):(void 0===r&&(r=n),-1===e?(t.push(c.fragments[n]),void 0):(i=c.fragments[n],o=e-n,a=c.keypath+"."+n,u=c.keypath+"."+e,i.reassign(c.descriptor.i,n,e,o,a,u),s[e]=i,void 0))});u=t.pop();)u.teardown(!0);if(void 0===r&&(r=this.length),this.length=o=this.root.get(this.keypath).length,o!==r){for(a={descriptor:this.descriptor.f,root:this.root,pNode:n.pNode,owner:this},this.descriptor.i&&(a.indexRef=this.descriptor.i),i=r;o>i;i+=1)(u=s[i])?this.docFrag.appendChild(u.detach(!1)):(a.context=this.keypath+"."+i,a.index=i,u=this.createFragment(a)),this.fragments[i]=u;h=n.findNextNode(this),n.pNode.insertBefore(this.docFrag,h)}}}(),on=function(t,e){function n(t,e,n){var r,i,o;if(i=e.length,i<t.length)for(o=t.fragments.splice(i,t.length-i);o.length;)o.pop().teardown(!0);else if(i>t.length)for(r=t.length;i>r;r+=1)n.context=t.keypath+"."+r,n.index=r,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments[r]=t.createFragment(n);t.length=i}function r(t,e,n){var r,i,o,s;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)s=t.fragments[i],s.index in e||(t.fragments[i].teardown(!0),t.fragments.splice(i,1),o[s.index]=!1);for(r in e)o[r]||(n.context=t.keypath+"."+r,n.index=r,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments.push(t.createFragment(n)),o[r]=!0);t.length=t.fragments.length}function i(t,e){t.length||(e.context=t.keypath,e.index=0,t.fragments[0]=t.createFragment(e),t.length=1)}function o(e,n,r,i){var o,s,a,u;if(s=t(n)&&0===n.length,o=r?s||!n:n&&!s){if(e.length||(i.index=0,e.fragments[0]=e.createFragment(i),e.length=1),e.length>1)for(a=e.fragments.splice(1);u=a.pop();)u.teardown(!0)}else e.length&&(e.teardownFragments(!0),e.length=0)}return function(s,a){var u={descriptor:s.descriptor.f,root:s.root,pNode:s.parentFragment.pNode,pElement:s.parentFragment.pElement,owner:s};return s.descriptor.n?(o(s,a,!0,u),void 0):(t(a)?n(s,a,u):e(a)||"function"==typeof a?s.descriptor.i?r(s,a,u):i(s,u):o(s,a,!1,u),void 0)}}(C,Z),sn=function(t,e){return function(n){var r,i;(i=this.root._wrapped[this.keypath])&&(n=i.get()),this.rendering||(this.rendering=!0,e(this,n),this.rendering=!1,(!this.docFrag||this.docFrag.childNodes.length)&&!this.initialising&&t&&(r=this.parentFragment.findNextNode(this),r&&r.parentNode===this.parentFragment.pNode?this.parentFragment.pNode.insertBefore(this.docFrag,r):this.parentFragment.pNode.appendChild(this.docFrag)))}}(a,on),an=function(t,e,n,r){var i,o,s,a,u;for(s=t.descriptor.i,i=e;n>i;i+=1)o=t.fragments[i],a=t.keypath+"."+(i-r),u=t.keypath+"."+i,o.index=i,o.reassign(s,i,a,u)},un=function(t){function e(t){t.teardown(!0)}function n(t,e,n){var r,i,o;for(t.rendering=!0,r={descriptor:t.descriptor.f,root:t.root,pNode:t.parentFragment.pNode,owner:t,indexRef:t.descriptor.i},i=e;n>i;i+=1)r.context=t.keypath+"."+i,r.index=i,t.fragments[i]=t.createFragment(r);o=t.fragments[n]?t.fragments[n].firstNode():t.parentFragment.findNextNode(t),t.parentFragment.pNode.insertBefore(t.docFrag,o),t.rendering=!1}return function(r){var i,o,s,a,u,h=this;if(i=r.balance){if(o=r.start,h.length+=i,0>i)return h.fragments.splice(o,-i).forEach(e),t(h,o,h.length,i),void 0;s=o+r.removed,a=o+r.added,u=[s,0],u.length+=i,h.fragments.splice.apply(h.fragments,u),t(h,a,h.length,i),n(h,s,a)}}}(an),hn=function(t,e,n,r,i,o,s){var a,u;return s.push(function(){u=s.DomFragment}),a=function(n,r){this.type=t.SECTION,this.inverted=!!n.descriptor.n,this.fragments=[],this.length=0,r&&(this.docFrag=document.createDocumentFragment()),this.initialising=!0,e.init(this,n),r&&r.appendChild(this.docFrag),this.initialising=!1},a.prototype={update:e.update,resolve:e.resolve,reassign:e.reassign,splice:i,merge:n,detach:function(){var t,e;if(this.docFrag){for(e=this.fragments.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.fragments[t].detach());return this.docFrag}},teardown:function(t){this.teardownFragments(t),o(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(t){for(var e;e=this.fragments.shift();)e.teardown(t)},render:r,createFragment:function(t){var e=new u(t);return this.docFrag&&this.docFrag.appendChild(e.docFrag),e},toString:function(){var t,e,n;for(t="",e=0,n=this.length,e=0;n>e;e+=1)t+=this.fragments[e].toString();return t},find:function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null},findAll:function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)},findComponent:function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null},findAllComponents:function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)}},a}(j,en,rn,sn,un,Qe,w),cn=function(t,e,n,r,i){var o=function(e,r){this.type=t.TRIPLE,r&&(this.nodes=[],this.docFrag=document.createDocumentFragment()),this.initialising=!0,n.init(this,e),r&&r.appendChild(this.docFrag),this.initialising=!1};return o.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:function(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}},teardown:function(t){t&&(this.detach(),this.docFrag=this.nodes=null),i(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(t){var e,n;if(this.nodes){for(;this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);if(!t)return this.nodes=[],void 0;n=this.parentFragment.pNode,this.nodes=r(t,n.tagName,n.namespaceURI,this.docFrag),this.initialising||n.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),"SELECT"===n.tagName&&n._ractive&&n._ractive.binding&&n._ractive.binding.update()}},toString:function(){return void 0!=this.value?this.value:""},find:function(t){var n,r,i,o;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType){if(e(i,t))return i;if(o=i.querySelector(t))return o}return null},findAll:function(t,n){var r,i,o,s,a,u;for(i=this.nodes.length,r=0;i>r;r+=1)if(o=this.nodes[r],1===o.nodeType&&(e(o,t)&&n.push(o),s=o.querySelectorAll(t)))for(a=s.length,u=0;a>u;u+=1)n.push(s[u])}},o}(j,se,en,We,Qe),pn=function(t){return function(e,n){return e.a&&e.a.xmlns?e.a.xmlns:"svg"===e.e?t.svg:n.namespaceURI||t.html}}(o),fn=function(){var t,e,n,r;return t="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),e="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},r=n(t.concat(e)),function(t){var e=t.toLowerCase();return r[e]||e}}(),ln=function(t,e){return function(n,r){var i,o;if(i=r.indexOf(":"),-1===i||(o=r.substr(0,i),"xmlns"===o))n.name=n.element.namespace!==t.html?e(r):r,n.lcName=n.name.toLowerCase();else if(r=r.substring(i+1),n.name=e(r),n.lcName=n.name.toLowerCase(),n.namespace=t[o.toLowerCase()],!n.namespace)throw'Unknown namespace ("'+o+'")'}}(o,fn),dn=function(t){return function(e,n){var r,i=null===n.value?"":n.value;(r=n.pNode)&&(e.namespace?r.setAttributeNS(e.namespace,n.name,i):"style"===n.name&&r.style.setAttribute?r.style.setAttribute("cssText",i):"class"!==n.name||r.namespaceURI&&r.namespaceURI!==t.html?r.setAttribute(n.name,i):r.className=i,"id"===e.name&&(n.root.nodes[n.value]=r),"value"===e.name&&(r._ractive.value=n.value)),e.value=n.value}}(o),gn=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;!n.pNode||n.namespace||r.pNode.namespaceURI&&r.pNode.namespaceURI!==t.html||(i=e[n.name]||n.name,void 0!==r.pNode[i]&&(n.propertyName=i),("boolean"==typeof r.pNode[i]||"value"===i)&&(n.useProperty=!0))}}(o),vn=function(t){return function(e){var n,r;return n=e.fragment.items,1===n.length&&(r=n[0],r.type===t.INTERPOLATOR&&(r.keypath||r.ref))?r:void 0}}(j),mn=function(t){return function(e,n){var r;if(!t(e)||!t(n))return!1;if(e.length!==n.length)return!1;for(r=e.length;r--;)if(e[r]!==n[r])return!1;return!0}}(C),yn=function(t,e,n,r,i,o){var s,a,u,h,c,p,f,l,d,g,v,m,y,w,b='For two-way binding to work, attribute value must be a single interpolator (e.g. value="{{foo}}")',E="You cannot set up two-way binding against an expression ";return s=function(){var t,n,r,i=this.pNode;return(t=this.interpolator)?t.keypath&&"${"===t.keypath.substr?(e(E+t.keypath),!1):(t.keypath||t.resolve(t.descriptor.r),this.keypath=t.keypath,(n=c(this))?(i._ractive.binding=this.element.binding=n,this.twoway=!0,r=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),r.push(n),!0):!1):(e(b),!1)},a=function(){t.start(this._ractive.root),this._ractive.binding.update(),t.end()},u={evaluateWrapped:!0},h=function(){var t=i(this._ractive.root,this._ractive.binding.keypath,u);this.value=void 0==t?"":t},c=function(t){var e=t.pNode;if("SELECT"===e.tagName)return e.multiple?new f(t,e):new l(t,e);if("checkbox"===e.type||"radio"===e.type){if("name"===t.propertyName){if("checkbox"===e.type)return new g(t,e);if("radio"===e.type)return new d(t,e)}return"checked"===t.propertyName?new v(t,e):null}if("value"!==t.lcName)throw new Error("Attempted to set up an illegal two-way binding. This error is unexpected - if you can, please file an issue at https://github.com/RactiveJS/Ractive, or contact @RactiveJS on Twitter. Thanks!");return"file"===e.type?new m(t,e):e.getAttribute("contenteditable")?new y(t,e):new w(t,e)},f=function(t,e){var n;p(this,t,e),e.addEventListener("change",a,!1),n=i(this.root,this.keypath),void 0===n&&this.update()},f.prototype={value:function(){var t,e,n,r,i,o;for(t=[],e=this.node.options,r=e.length,n=0;r>n;n+=1)i=e[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},update:function(){var e,r,i;return e=this.attr,r=e.value,i=this.value(),void 0!==r&&n(i,r)||(t.addBinding(e),e.value=i,o(this.root,this.keypath,i),t.trigger()),this},deferUpdate:function(){this.deferred!==!0&&(t.addAttribute(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",a,!1)}},l=function(t,e){var n;p(this,t,e),e.addEventListener("change",a,!1),n=i(this.root,this.keypath),void 0===n&&this.update()},l.prototype={value:function(){var t,e,n,r,i;for(t=this.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},update:function(){var e=this.value();return t.addBinding(this.attr),this.attr.value=e,o(this.root,this.keypath,e),t.trigger(),this},deferUpdate:function(){this.deferred!==!0&&(t.addAttribute(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",a,!1)}},d=function(e,n){var r;this.radioName=!0,p(this,e,n),n.name="{{"+e.keypath+"}}",n.addEventListener("change",a,!1),n.attachEvent&&n.addEventListener("click",a,!1),r=i(this.root,this.keypath),void 0!==r?n.checked=r==n._ractive.value:t.addRadio(this)},d.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var e=this.node;e.checked&&(t.addBinding(this.attr),o(this.root,this.keypath,this.value()),t.trigger())},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},g=function(e,n){var r,o;this.checkboxName=!0,p(this,e,n),n.name="{{"+this.keypath+"}}",n.addEventListener("change",a,!1),n.attachEvent&&n.addEventListener("click",a,!1),r=i(this.root,this.keypath),void 0!==r?(o=-1!==r.indexOf(n._ractive.value),n.checked=o):t.addCheckbox(this)},g.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,t.addBinding(this.attr),o(this.root,this.keypath,r(this.root,this.keypath)),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},v=function(t,e){p(this,t,e),e.addEventListener("change",a,!1),e.attachEvent&&e.addEventListener("click",a,!1)},v.prototype={value:function(){return this.node.checked},update:function(){t.addBinding(this.attr),o(this.root,this.keypath,this.value()),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},m=function(t,e){p(this,t,e),e.addEventListener("change",a,!1)},m.prototype={value:function(){return this.attr.pNode.files},update:function(){o(this.attr.root,this.attr.keypath,this.value()),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1)}},y=function(t,e){p(this,t,e),e.addEventListener("change",a,!1),this.root.lazy||(e.addEventListener("input",a,!1),e.attachEvent&&e.addEventListener("keyup",a,!1))},y.prototype={update:function(){t.addBinding(this.attr),o(this.root,this.keypath,this.node.innerHTML),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("input",a,!1),this.node.removeEventListener("keyup",a,!1)}},w=function(t,e){p(this,t,e),e.addEventListener("change",a,!1),this.root.lazy||(e.addEventListener("input",a,!1),e.attachEvent&&e.addEventListener("keyup",a,!1)),this.node.addEventListener("blur",h,!1)},w.prototype={value:function(){var t=this.attr.pNode.value;return+t+""===t&&-1===t.indexOf("e")&&(t=+t),t},update:function(){var e=this.attr,n=this.value();t.addBinding(e),o(e.root,e.keypath,n),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("input",a,!1),this.node.removeEventListener("keyup",a,!1),this.node.removeEventListener("blur",h,!1)}},p=function(t,e,n){t.attr=e,t.node=n,t.root=e.root,t.keypath=e.keypath},s}(R,Y,mn,x,K,U),wn=function(t,e,n){var r,i,o,s,a,u,h,c,p,f,l,d;return r=function(){var t;if(!this.ready)return this;if(t=this.pNode,"SELECT"===t.tagName&&"value"===this.lcName)return this.update=o,this.deferredUpdate=s,this.update();if(this.isFileInputValue)return this.update=i,this;if(this.twoway&&"name"===this.lcName){if("radio"===t.type)return this.update=h,this.update();if("checkbox"===t.type)return this.update=c,this.update()}return"style"===this.lcName&&t.style.setAttribute?(this.update=p,this.update()):"class"!==this.lcName||t.namespaceURI&&t.namespaceURI!==e.html?t.getAttribute("contenteditable")&&"value"===this.lcName?(this.update=l,this.update()):(this.update=d,this.update()):(this.update=f,this.update())},i=function(){return this},s=function(){this.deferredUpdate=this.pNode.multiple?u:a,this.deferredUpdate()},o=function(){return t.addSelectValue(this),this},a=function(){var t,e,n,r,i=this.fragment.getValue();for(this.value=this.pNode._ractive.value=i,t=this.pNode.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i)return e.selected=!0,this;return this},u=function(){var t,e,r,i,o=this.fragment.getValue();for(n(o)||(o=[o]),t=this.pNode.options,e=t.length;e--;)r=t[e],i=r._ractive?r._ractive.value:r.value,r.selected=-1!==o.indexOf(i);return this.value=o,this},h=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),t.checked=e==t._ractive.value,this},c=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),n(e)?(t.checked=-1!==e.indexOf(t._ractive.value),this):(t.checked=e==t._ractive.value,this)},p=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.style.setAttribute("cssText",e),this.value=e),this},f=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.className=e,this.value=e),this},l=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(this.active||(t.innerHTML=e),this.value=e),this},d=function(){var t,e,n;if(t=this.pNode,e=this.fragment.getValue(),this.isValueAttribute&&(t._ractive.value=e),void 0==e&&(e=""),e!==this.value){if(this.useProperty)return this.active||(t[this.propertyName]=e),"OPTION"===t.tagName&&t.selected&&(n=this.element.select.binding)&&n.update(),this.value=e,this;if(this.namespace)return t.setAttributeNS(this.namespace,this.name,e),this.value=e,this;"id"===this.lcName&&(void 0!==this.value&&(this.root.nodes[this.value]=void 0),this.root.nodes[e]=t),t.setAttribute(this.name,e),this.value=e}return this},r}(R,o,C),bn=function(t){var e;return e=this.str.substr(this.pos,t.length),e===t?(this.pos+=t.length,t):null},En=function(){var t=/^\s+/;return function(){var e=t.exec(this.remaining());return e?(this.pos+=e[0].length,e[0]):null}}(),xn=function(t){return function(e){var n=t.exec(e.str.substring(e.pos));return n?(e.pos+=n[0].length,n[1]||n[0]):null}},_n=function(t){var e,n,r;return e=t(/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/),n=t(/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/),r=t(/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/),function(t){return function(i){var o,s,a,u;for(o=i.pos,s='"',a=!1;!a;)u=e(i)||n(i)||i.getStringMatch(t),u?s+='"'===u?'\\"':"\\'"===u?"'":u:(u=r(i),u?s+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4):a=!0);return s+='"',JSON.parse(s)}}}(xn),Tn=function(t){return t('"')}(_n),Nn=function(t){return t("'")}(_n),kn=function(t,e,n){return function(r){var i,o;return i=r.pos,r.getStringMatch('"')?(o=n(r),r.getStringMatch('"')?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):r.getStringMatch("'")?(o=e(r),r.getStringMatch("'")?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):null}}(j,Tn,Nn),Sn=function(t,e){var n=e(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(e){var r;return(r=n(e))?{t:t.NUMBER_LITERAL,v:r}:null}}(j,xn),On=function(t){return t(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(xn),Rn=function(t,e,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;return(o=t(i))?r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=e(i))?o.v:(o=n(i))?o:void 0}}(kn,Sn,On),An=function(t,e,n,r){function i(t){var e,n,i;return t.allowWhitespace(),(e=r(t))?(i={key:e},t.allowWhitespace(),t.getStringMatch(":")?(t.allowWhitespace(),(n=t.getToken())?(i.value=n.v,i):null):null):null}var o,s,a,u,h,c;return s={"true":!0,"false":!1,undefined:void 0,"null":null},a=new RegExp("^(?:"+Object.keys(s).join("|")+")"),u=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,h=/\$\{([^\}]+)\}/g,c=/^\$\{([^\}]+)\}/,o=function(t,e){this.str=t,this.values=e,this.pos=0,this.result=this.getToken()},o.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:t,getToken:function(){return this.allowWhitespace(),this.getPlaceholder()||this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()
},getPlaceholder:function(){var t;return this.values?(t=c.exec(this.remaining()))&&this.values.hasOwnProperty(t[1])?(this.pos+=t[0].length,{v:this.values[t[1]]}):void 0:null},getSpecial:function(){var t;return(t=a.exec(this.remaining()))?(this.pos+=t[0].length,{v:s[t[0]]}):void 0},getNumber:function(){var t;return(t=u.exec(this.remaining()))?(this.pos+=t[0].length,{v:+t[0]}):void 0},getString:function(){var t,e=n(this);return e&&(t=this.values)?{v:e.v.replace(h,function(e,n){return t[n]||n})}:e},getObject:function(){var t,e;if(!this.getStringMatch("{"))return null;for(t={};e=i(this);){if(t[e.key]=e.value,this.allowWhitespace(),this.getStringMatch("}"))return{v:t};if(!this.getStringMatch(","))return null}return null},getArray:function(){var t,e;if(!this.getStringMatch("["))return null;for(t=[];e=this.getToken();){if(t.push(e.v),this.getStringMatch("]"))return{v:t};if(!this.getStringMatch(","))return null}return null},allowWhitespace:e},function(t,e){var n=new o(t,e);return n.result?{value:n.result.v,remaining:n.remaining()}:null}}(bn,En,kn,Rn),Cn=function(t,e,n){function r(t){return"string"==typeof t?t:JSON.stringify(t)}var i=function(e){this.type=t.INTERPOLATOR,n.init(this,e)};return i.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,render:function(t){this.value=t,this.parentFragment.bubble()},teardown:function(){e(this)},toString:function(){return void 0==this.value?"":r(this.value)}},i}(j,Qe,en),Ln=function(t,e,n,r,i){var o,s;return i.push(function(){s=i.StringFragment}),o=function(n){this.type=t.SECTION,this.fragments=[],this.length=0,e.init(this,n)},o.prototype={update:e.update,resolve:e.resolve,reassign:e.reassign,teardown:function(){this.teardownFragments(),r(this)},teardownFragments:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(t){var e;(e=this.root._wrapped[this.keypath])&&(t=e.get()),n(this,t),this.parentFragment.bubble()},createFragment:function(t){return new s(t)},toString:function(){return this.fragments.join("")}},o}(j,en,on,Qe,w),Mn=function(t){var e=function(e){this.type=t.TEXT,this.text=e};return e.prototype={toString:function(){return this.text},reassign:function(){},teardown:function(){}},e}(j),In=function(t,e){return function(){var n,r,i,o,s,a,u;if(!this.argsList||this.dirty){if(n={},r=0,o=this.root._guid,u=function(t){return t.map(function(t){var e,i,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return u(t.items)}).join(""):(e=o+"-"+r++,s=(i=t.root._wrapped[t.keypath])?i.value:t.value,n[e]=s,"${"+e+"}")}).join("")},i=u(this.items),a=e("["+i+"]",n))this.argsList=a.value;else{if(s="Could not parse directive arguments ("+this.toString()+"). If you think this is a bug, please file an issue at http://github.com/RactiveJS/Ractive/issues",this.root.debug)throw new Error(s);t(s),this.argsList=[i]}this.dirty=!1}return this.argsList}}(Y,An),Fn=function(t,e,n,r,i,o,s,a){var u=function(t){n.init(this,t)};return u.prototype={reassign:n.reassign,createItem:function(e){if("string"==typeof e.descriptor)return new o(e.descriptor);switch(e.descriptor.t){case t.INTERPOLATOR:return new r(e);case t.TRIPLE:return new r(e);case t.SECTION:return new i(e);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.dirty=!0,this.owner.bubble()},teardown:function(){var t,e;for(t=this.items.length,e=0;t>e;e+=1)this.items[e].teardown()},getValue:function(){var e;return 1===this.items.length&&this.items[0].type===t.INTERPOLATOR&&(e=this.items[0].value,void 0!==e)?e:this.toString()},isSimple:function(){var e,n,r;if(void 0!==this.simple)return this.simple;for(e=this.items.length;e--;)if(n=this.items[e],n.type!==t.TEXT){if(n.type!==t.INTERPOLATOR)return this.simple=!1;if(r)return!1;r=!0}return this.simple=!0},toString:function(){return this.items.join("")},toJSON:function(){var t,n=this.getValue();return"string"==typeof n&&(t=e(n),n=t?t.value:n),n},toArgsList:s},a.StringFragment=u,u}(j,An,Be,Cn,Ln,Mn,In,w),jn=function(t,e,n,r,i,o,s,a,u){var h=function(t){return this.type=e.ATTRIBUTE,this.element=t.element,n(this,t.name),null===t.value||"string"==typeof t.value?(r(this,t),void 0):(this.root=t.root,this.pNode=t.pNode,this.parentFragment=this.element.parentFragment,this.fragment=new u({descriptor:t.value,root:this.root,owner:this}),this.interpolator=o(this),this.pNode&&("value"===this.name&&(this.isValueAttribute=!0,"INPUT"===this.pNode.tagName&&"file"===this.pNode.type&&(this.isFileInputValue=!0)),i(this,t),this.selfUpdating=this.fragment.isSimple(),this.ready=!0),void 0)};return h.prototype={bind:s,update:a,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,"name"===this.propertyName&&(this.pNode.name="{{"+this.keypath+"}}")},reassign:function(t,e,n,r){this.fragment&&(this.fragment.reassign(t,e,n,r),this.twoway&&this.updateBindings())},teardown:function(){var t;if(this.boundEvents)for(t=this.boundEvents.length;t--;)this.pNode.removeEventListener(this.boundEvents[t],this.updateModel,!1);this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(t.addAttribute(this),this.deferred=!0)},toString:function(){var t,e;if(null===this.value)return this.name;if("value"!==this.name||"select"!==this.element.lcName)return"name"===this.name&&"input"===this.element.lcName&&(e=this.interpolator)?"name={{"+(e.keypath||e.ref)+"}}":this.fragment?(t=this.fragment.toString(),this.name+"="+JSON.stringify(t)):this.name+"="+JSON.stringify(this.value)}},h}(R,j,ln,dn,gn,vn,yn,wn,Fn),Pn=function(t){return function(e,n,r){var i=new t({element:e,name:n,value:r,root:e.root,pNode:e.node});e.attributes.push(e.attributes[n]=i),"name"!==n&&i.update()}}(jn),Dn=function(t){return function(e,n){var r;e.attributes=[];for(r in n)n.hasOwnProperty(r)&&t(e,r,n[r]);return e.attributes}}(Pn),Un=function(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e},Bn=function(t){return function(e,n){return e.matchingStaticNodes[n]||(e.matchingStaticNodes[n]=t(e.node.querySelectorAll(n))),e.matchingStaticNodes[n]}}(Un),Wn=function(t,e,n,r,i){function o(t){var e,n,i,o,s,a,u;i=t.node,e=t.root;do for(n=e._liveQueries,u=n.length;u--;)o=n[u],s=n[o],a=r(t,o),s.push.apply(s,a);while(e=e._parent)}var s,a,u;return i.push(function(){s=i.DomFragment}),a=function(){var t=this.node,e=this.fragment.toString();t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},u=function(){this.node.type&&"text/javascript"!==this.node.type||t("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString()},function(t,r,i,h){return"script"===t.lcName||"style"===t.lcName?(t.fragment=new n({descriptor:i.f,root:t.root,owner:t}),h&&("script"===t.lcName?(t.bubble=u,t.node.text=t.fragment.toString()):(t.bubble=a,t.bubble())),void 0):("string"!=typeof i.f||r&&r.namespaceURI&&r.namespaceURI!==e.html?(t.fragment=new s({descriptor:i.f,root:t.root,pNode:r,owner:t,pElement:t}),h&&r.appendChild(t.fragment.docFrag)):(t.html=i.f,h&&(r.innerHTML=t.html,t.matchingStaticNodes={},o(t))),void 0)}}(Y,o,Fn,Bn,w),qn=function(t,e){var n=function(n,r,i){var o,s,a,u=this;if(u.root=r,u.node=i.node,o=n.n||n,"string"!=typeof o&&(s=new e({descriptor:o,root:r,owner:i}),o=s.toString(),s.teardown()),n.a?u.params=n.a:n.d&&(u.fragment=new e({descriptor:n.d,root:r,owner:i}),u.params=u.fragment.toArgsList(),u.fragment.bubble=function(){this.dirty=!0,u.params=this.toArgsList(),u.ready&&u.update()}),u.fn=r.decorators[o],!u.fn){if(a='Missing "'+o+'" decorator. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#decorators',r.debug)throw new Error(a);t(a)}};return n.prototype={init:function(){var t,e;if(this.params?(e=[this.node].concat(this.params),t=this.fn.apply(this.root,e)):t=this.fn.call(this.root,this.node),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=t,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},teardown:function(t){this.actual.teardown(),!t&&this.fragment&&this.fragment.teardown()}},n}(Y,Fn),zn=function(t,e){return function(n,r,i){var o=new e(n,r,i);o.fn&&(i.decorator=o,t.addDecorator(i.decorator))}}(R,qn),Qn=function(t,e){var n,r,i,o,s,a,u,h,c;return n=function(t,e,n,i){var o,s;o=t.node._ractive.events,s=o[e]||(o[e]=new r(t,e,i)),s.add(n)},r=function(e,n){var r;this.element=e,this.root=e.root,this.node=e.node,this.name=n,this.proxies=[],(r=this.root.events[n])?this.custom=r(this.node,c(n)):("on"+n in this.node||t('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events'),this.node.addEventListener(n,h,!1))},r.prototype={add:function(t){this.proxies.push(new i(this.element,this.root,t))},teardown:function(){var t;for(this.custom?this.custom.teardown():this.node.removeEventListener(this.name,h,!1),t=this.proxies.length;t--;)this.proxies[t].teardown()},fire:function(t){for(var e=this.proxies.length;e--;)this.proxies[e].fire(t)}},i=function(t,n,r){var i;return this.root=n,i=r.n||r,this.n="string"==typeof i?i:new e({descriptor:r.n,root:this.root,owner:t}),r.a?(this.a=r.a,this.fire=s,void 0):r.d?(this.d=new e({descriptor:r.d,root:this.root,owner:t}),this.fire=a,void 0):(this.fire=o,void 0)},i.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:function(){}},o=function(t){this.root.fire(this.n.toString(),t)},s=function(t){this.root.fire.apply(this.root,[this.n.toString(),t].concat(this.a))},a=function(t){var e=this.d.toArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),this.root.fire.apply(this.root,[this.n.toString(),t].concat(e))},h=function(t){var e=this._ractive;e.events[t.type].fire({node:this,original:t,index:e.index,keypath:e.keypath,context:e.root.get(e.keypath)})},u={},c=function(t){return u[t]?u[t]:u[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath,e.context=n.root.get(n.keypath),n.events[t].fire(e)}},n}(Y,Fn),Jn=function(t){return function(e,n){var r,i,o;for(i in n)if(n.hasOwnProperty(i))for(o=i.split("-"),r=o.length;r--;)t(e,o[r],n[i])}}(Qn),Vn=function(t){var e,n,r,i,o;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],o=n[i],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e._parent)},$n=function(){if(this._inited)throw new Error("Cannot initialize a transition more than once");this._inited=!0,this._fn.apply(this.root,[this].concat(this.params))},Hn=function(t,e,n){var r,i;if(t)return r={},i=n("div").style,function(t){var n,o,s;if(!r[t])if(void 0!==i[t])r[t]=t;else for(s=t.charAt(0).toUpperCase()+t.substring(1),n=e.length;n--;)if(o=e[n],void 0!==i[o+s]){r[t]=o+s;break}return r[t]}}(a,v,s),Xn=function(t,e,n,r){var i;if(e)return i=window.getComputedStyle||t.getComputedStyle,function(t){var e,i,o,s,a;if(e=window.getComputedStyle(this.node),"string"==typeof t)return a=e[r(t)],"0px"===a&&(a=0),a;if(!n(t))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");for(i={},o=t.length;o--;)s=t[o],a=e[r(s)],"0px"===a&&(a=0),i[s]=a;return i}}(n,a,C,Hn),Gn=function(t){return function(e,n){var r;if("string"==typeof e)this.node.style[t(e)]=n;else for(r in e)e.hasOwnProperty(r)&&(this.node.style[t(r)]=e[r]);return this}}(Hn),Kn=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})},Yn=function(t,e,n){function r(t){return t}var i=function(i){var o;this.duration=i.duration,this.step=i.step,this.complete=i.complete,"string"==typeof i.easing?(o=i.root.easing[i.easing],o||(t('Missing easing function ("'+i.easing+'"). You may need to download a plugin from [TODO]'),o=r)):o="function"==typeof i.easing?i.easing:r,this.easing=o,this.start=e(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return i.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},i}(Y,y,A),Zn=function(t){var e=new RegExp("^-(?:"+t.join("|")+")-");return function(t){return t.replace(e,"")}}(v),tr=function(t){var e=new RegExp("^(?:"+t.join("|")+")([A-Z])");return function(t){var n;return t?(e.test(t)&&(t="-"+t),n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""}}(v),er=function(t,e,n,r,i,o,s,a,u){var h,c,p,f,l,d,g,v={},m={};if(t)return h=n("div").style,function(){void 0!==h.transition?(c="transition",p="transitionend",f=!0):void 0!==h.webkitTransition?(c="webkitTransition",p="webkitTransitionEnd",f=!0):f=!1}(),c&&(l=c+"Duration",d=c+"Property",g=c+"TimingFunction"),function(t,n,h,c,f,y){setTimeout(function(){var w,b,E,x;x=function(){b&&E&&y()},w=t.node.namespaceURI+t.node.tagName,t.node.style[d]=c.map(s).map(u).join(","),t.node.style[g]=u(h.easing||"linear"),t.node.style[l]=h.duration/1e3+"s",f=function(e){var n;n=c.indexOf(r(a(e.propertyName))),-1!==n&&c.splice(n,1),c.length||(t.root.fire(t.name+":end"),t.node.removeEventListener(p,f,!1),E=!0,x())},t.node.addEventListener(p,f,!1),setTimeout(function(){for(var a,u,l,d,g=c.length,y=[];g--;)d=c[g],a=w+d,v[a]?t.node.style[s(d)]=n[d]:u=t.getStyle(d),void 0===v[a]&&(t.node.style[s(d)]=n[d],v[a]=t.getStyle(d)!=n[d],m[a]=!v[a]),m[a]&&(l=c.indexOf(d),-1===l?e("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):c.splice(l,1),t.node.style[s(d)]=u,y.push({name:s(d),interpolator:i(u,n[d])}));y.length?new o({root:t.root,duration:h.duration,easing:r(h.easing),step:function(e){var n,r;for(r=y.length;r--;)n=y[r],t.node.style[n.name]=n.interpolator(e)},complete:function(){b=!0,x()}}):b=!0,c.length||(t.node.removeEventListener(p,f,!1),E=!0,x())},0)},h.delay||0)}}(a,Y,s,Kn,ee,Yn,Hn,Zn,tr),nr=function(t,e,n,r,i,o){var s;if(e)return s=window.getComputedStyle||t.getComputedStyle,function(t,e,s,a){var u,h=this;"string"==typeof t?(u={},u[t]=e):(u=t,a=s,s=e),s||(n('The "'+h.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),s=h,a=h.complete);var c=new r(function(t){var e,n,r,a,c,p,f,l;if(!s.duration)return h.setStyle(u),t(),void 0;for(e=Object.keys(u),n=[],r=window.getComputedStyle(h.node),c={},f=e.length;f--;)l=e[f],a=r[i(l)],"0px"===a&&(a=0),a!=u[l]&&(n.push(l),h.node.style[i(l)]=a);return n.length?(o(h,u,s,n,p,t),void 0):(t(),void 0)});return a&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),c.then(a)),c}}(n,a,Y,d,Hn,er),rr=function(t,e){var n;for(n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n]);return t},ir=function(t){return function(e,n){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),t(e,n)}}(rr),or=function(){this.originalStyle?this.node.setAttribute("style",this.originalStyle):(this.node.getAttribute("style"),this.node.removeAttribute("style"))},sr=function(t,e,n,r,i,o,s,a){var u;return u=function(n,r,i,o){var s,a,u,h=this;if(this.root=r,this.node=i.node,this.isIntro=o,this.originalStyle=this.node.getAttribute("style"),h.complete=function(t){!t&&h.isIntro&&h.resetStyle(),h.node._ractive.transition=null,h._manager.remove(h)},s=n.n||n,"string"!=typeof s&&(a=new e({descriptor:s,root:this.root,owner:i}),s=a.toString(),a.teardown()),this.name=s,n.a?this.params=n.a:n.d&&(a=new e({descriptor:n.d,root:this.root,owner:i}),this.params=a.toArgsList(),a.teardown()),this._fn=r.transitions[s],!this._fn){if(u='Missing "'+s+'" transition. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#transitions',r.debug)throw new Error(u);return t(u),void 0}},u.prototype={init:n,getStyle:r,setStyle:i,animateStyle:o,processParams:s,resetStyle:a},u}(Y,Fn,$n,Xn,Gn,nr,ir,or),ar=function(t,e){return function(n,r,i,o){var s,a,u;!r.transitionsEnabled||r._parent&&!r._parent.transitionsEnabled||(s=new e(n,r,i,o),s._fn&&(a=s.node,(u=a._ractive.transition)&&u.complete(),a._ractive.transition=s,t.addTransition(s)))}}(R,sr),ur=function(t,e,n,r,i,o,s,a,u,h,c,p,f,l,d,g,v){function m(t){do if("select"===t.lcName)return t;while(t=t.parent)}return function(y,w,b){var E,x,_,T,N,k,S,O,R,A,C,L;if(y.type=e.ELEMENT,E=y.parentFragment=w.parentFragment,x=E.pNode,_=y.descriptor=w.descriptor,y.parent=w.pElement,y.root=A=E.root,y.index=w.index,y.lcName=_.e.toLowerCase(),y.eventListeners=[],y.customEventListeners=[],y.cssDetachQueue=[],x&&(T=y.namespace=u(_,x),N=T!==n.html?v(_.e):_.e,y.node=s(N,T),A.css&&x===A.el&&y.node.setAttribute("data-rvcguid",A.constructor._guid||A._guid),i(y.node,"_ractive",{value:{proxy:y,keypath:a(E),index:E.indexRefs,events:r(null),root:A}})),k=c(y,_.a),_.f){if(y.node&&y.node.getAttribute("contenteditable")&&y.node.innerHTML){if(L="A pre-populated contenteditable element should not have children",A.debug)throw new Error(L);o(L)}p(y,y.node,_,b)}b&&_.v&&l(y,_.v),b&&(A.twoway&&(y.bind(),y.node.getAttribute("contenteditable")&&y.node._ractive.binding&&y.node._ractive.binding.update()),k.name&&!k.name.twoway&&k.name.update(),"IMG"===y.node.tagName&&((S=y.attributes.width)||(O=y.attributes.height))&&y.node.addEventListener("load",R=function(){S&&(y.node.width=S.value),O&&(y.node.height=O.value),y.node.removeEventListener("load",R,!1)},!1),b.appendChild(y.node),_.o&&f(_.o,A,y),_.t1&&g(_.t1,A,y,!0),"OPTION"===y.node.tagName&&("SELECT"===x.tagName&&(C=x._ractive.binding)&&C.deferUpdate(),k.value||h(y,"value",_.f),y.node._ractive.value==x._ractive.value&&(y.node.selected=!0)),y.node.autofocus&&t.focus(y.node)),"option"===y.lcName&&(y.select=m(y.parent)),d(y)}}(R,j,o,Me,u,Y,s,T,pn,Pn,Dn,Wn,zn,Jn,Vn,ar,fn),hr=function(t,e){function n(t){var e,n,r,i,o;for(i=t.liveQueries.length;i--;)if(e=t.liveQueries[i],n=e.selector,e._remove(t.node),t.matchingStaticNodes&&(r=t.matchingStaticNodes[n]))for(o=r.length;o--;)e.remove(r[o])}return function(r){var i,o,s;for(r&&(this.willDetach=!0,t.detachWhenReady(this)),this.fragment&&this.fragment.teardown(!1);this.attributes.length;)this.attributes.pop().teardown();if(this.node){for(i in this.node._ractive.events)this.node._ractive.events[i].teardown();(o=this.node._ractive.binding)&&(o.teardown(),s=this.root._twowayBindings[o.attr.keypath],s.splice(s.indexOf(o),1))}this.decorator&&this.decorator.teardown(),this.descriptor.t2&&e(this.descriptor.t2,this.root,this,!1),this.liveQueries&&n(this)}}(R,ar),cr=function(t){return function(e,n,r,i){var o,s,a,u,h,c,p,f,l;for(o=this.attributes.length;o--;)this.attributes[o].reassign(e,n,r,i);if(s=this.node._ractive){t(s,"keypath",r,i),void 0!=e&&(s.index[e]=n);for(a in s.events)for(u=s.events[a].proxies,o=u.length;o--;)h=u[o],"object"==typeof h.n&&h.a.reassign(e,n,r,i),h.d&&h.d.reassign(e,n,r,i);(c=s.binding)&&c.keypath.substr(0,r.length)===r&&(p=s.root._twowayBindings[c.keypath],p.splice(p.indexOf(c),1),c.keypath=c.keypath.replace(r,i),p=s.root._twowayBindings[c.keypath]||(s.root._twowayBindings[c.keypath]=[]),p.push(c))}if(this.fragment&&this.fragment.reassign(e,n,r,i),f=this.liveQueries)for(l=this.root,o=f.length;o--;)f[o]._makeDirty()}}(De),pr="area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" "),fr=function(t,e){function n(t){var n,r,i,o,s;if(n=t.attributes.value.value,r=t.select.attributes.value,i=r.interpolator){if(o=t.root.get(i.keypath||i.ref),o==n)return!0;if(t.select.attributes.multiple&&e(o))for(s=o.length;s--;)if(o[s]==n)return!0}}function r(t){var e,n,r,i;return e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator?r.value===i.interpolator.value?!0:void 0:void 0}return function(){var e,i,o,s;for(e="<"+(this.descriptor.y?"!doctype":this.descriptor.e),o=this.attributes.length,i=0;o>i;i+=1)(s=this.attributes[i].toString())&&(e+=" "+s);return"option"===this.lcName&&n(this)&&(e+=" selected"),"input"===this.lcName&&r(this)&&(e+=" checked"),e+=">",this.html?e+=this.html:this.fragment&&(e+=this.fragment.toString()),-1===t.indexOf(this.descriptor.e)&&(e+="</"+this.descriptor.e+">"),this.stringifying=!1,e}}(pr,C),lr=function(t){return function(e){var n;return t(this.node,e)?this.node:this.html&&(n=this.node.querySelector(e))?n:this.fragment&&this.fragment.find?this.fragment.find(e):void 0}}(se),dr=function(t){return function(e,n){var r,i;n._test(this,!0)&&n.live&&(this.liveQueries||(this.liveQueries=[])).push(n),this.html&&(r=t(this,e),n.push.apply(n,r),n.live&&!i&&(this.liveQueries||(this.liveQueries=[])).push(n)),this.fragment&&this.fragment.findAll(e,n)}}(Bn),gr=function(t){return this.fragment?this.fragment.findComponent(t):void 0},vr=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},mr=function(){var t=this.attributes;if(this.node&&(this.binding&&(this.binding.teardown(),this.binding=null),!(this.node.getAttribute("contenteditable")&&t.value&&t.value.bind())))switch(this.descriptor.e){case"select":case"textarea":return t.value&&t.value.bind(),void 0;case"input":if("radio"===this.node.type||"checkbox"===this.node.type){if(t.name&&t.name.bind())return;if(t.checked&&t.checked.bind())return}if(t.value&&t.value.bind())return}},yr=function(t,e,n,r,i,o,s,a,u,h,c){var p=function(t,e){n(this,t,e)};return p.prototype={detach:function(){var n;if(this.node)return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node;if(this.cssDetachQueue.length){for(t.start();n===this.cssDetachQueue.pop();)e.remove(n);t.end()}},teardown:r,reassign:i,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:o,find:s,findAll:a,findComponent:u,findAllComponents:h,bind:c},p}(R,E,ur,hr,cr,fr,lr,dr,gr,vr,mr),wr={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},br={},Er=function(t){var e,n,r;for(r="";t.length;){if(e=t.indexOf("<!--"),n=t.indexOf("-->"),-1===e&&-1===n){r+=t;break}if(-1!==e&&-1===n)throw"Illegal HTML - expected closing comment sequence ('-->')";if(-1!==n&&-1===e||e>n)throw"Illegal HTML - unexpected closing comment sequence ('-->')";r+=t.substr(0,e),t=t.substring(n+3)}return r},xr=function(t){return function(e){var n,r,i,o,s,a;for(s=/^\s*\r?\n/,a=/\r?\n\s*$/,n=2;n<e.length;n+=1)r=e[n],i=e[n-1],o=e[n-2],r.type===t.TEXT&&i.type===t.MUSTACHE&&i.mustacheType!==t.PARTIAL&&o.type===t.TEXT&&a.test(o.value)&&s.test(r.value)&&(i.mustacheType!==t.INTERPOLATOR&&i.mustacheType!==t.TRIPLE&&(o.value=o.value.replace(a,"\n")),r.value=r.value.replace(s,""),""===r.value&&e.splice(n--,1));return e}}(j),_r=function(t){return function(e){var n,r,i,o;for(n=0;n<e.length;n+=1)r=e[n],i=e[n-1],o=e[n+1],(r.mustacheType===t.COMMENT||r.mustacheType===t.DELIMCHANGE)&&(e.splice(n,1),i&&o&&i.type===t.TEXT&&o.type===t.TEXT&&(i.value+=o.value,e.splice(n,1)),n-=1);return e}}(j),Tr=function(t){var e=t(/^[^\s=]+/);return function(t){var n,r,i;return t.getStringMatch("=")?(n=t.pos,t.allowWhitespace(),(r=e(t))?(t.allowWhitespace(),(i=e(t))?(t.allowWhitespace(),t.getStringMatch("=")?[r,i]:(t.pos=n,null)):(t.pos=n,null)):(t.pos=n,null)):null}}(xn),Nr=function(t){var e={"#":t.SECTION,"^":t.INVERTED,"/":t.CLOSING,">":t.PARTIAL,"!":t.COMMENT,"&":t.TRIPLE};return function(t){var n=e[t.str.charAt(t.pos)];return n?(t.pos+=1,n):null}}(j),kr=function(t,e,n){function r(e){for(var n=[];e.t===t.MEMBER&&e.r.t===t.REFINEMENT;)n.unshift(e.r),e=e.x;return e.t!==t.REFERENCE?null:{r:e.n,m:n}}var i=e(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),o=/^[0-9][1-9]*$/;return function(e,s){var a,u,h,c,p,f,l,d,g;if(a=e.pos,u={type:s?t.TRIPLE:t.MUSTACHE},!(s||((c=e.getExpression())&&(u.mustacheType=t.INTERPOLATOR,e.allowWhitespace(),e.getStringMatch(e.delimiters[1])?e.pos-=e.delimiters[1].length:(e.pos=a,c=null)),c||(h=n(e),h===t.TRIPLE?u={type:t.TRIPLE}:u.mustacheType=h||t.INTERPOLATOR,h!==t.COMMENT&&h!==t.CLOSING||(f=e.remaining(),l=f.indexOf(e.delimiters[1]),-1===l)))))return u.ref=f.substr(0,l),e.pos+=l,u;if(!c&&(e.allowWhitespace(),c=e.getExpression(),f=e.remaining(),d=s?e.tripleDelimiters[1]:e.delimiters[1],f.substr(0,d.length)!==d&&":"!==f.charAt(0)&&(e.pos=a,f=e.remaining(),l=f.indexOf(e.delimiters[1]),-1!==l)))return u.ref=f.substr(0,l).trim(),e.pos+=l,u;for(;c.t===t.BRACKETED&&c.x;)c=c.x;return c.t===t.REFERENCE?u.ref=c.n:c.t===t.NUMBER_LITERAL&&o.test(c.v)?u.ref=c.v:(g=r(c))?u.keypathExpression=g:u.expression=c,p=i(e),null!==p&&(u.indexRef=p),u}}(j,xn,Nr),Sr=function(t,e,n){function r(r,i){var o,s,a=r.pos;return s=i?r.tripleDelimiters:r.delimiters,r.getStringMatch(s[0])?(o=e(r))?r.getStringMatch(s[1])?(r[i?"tripleDelimiters":"delimiters"]=o,{type:t.MUSTACHE,mustacheType:t.DELIMCHANGE}):(r.pos=a,null):(r.allowWhitespace(),o=n(r,i),null===o?(r.pos=a,null):(r.allowWhitespace(),r.getStringMatch(s[1])?o:(r.pos=a,null))):null}return function(){var t=this.tripleDelimiters[0].length>this.delimiters[0].length;return r(this,t)||r(this,!t)}}(j,Tr,kr),Or=function(t){return function(){var e,n,r;if(!this.getStringMatch("<!--"))return null;if(n=this.remaining(),r=n.indexOf("-->"),-1===r)throw new Error('Unexpected end of input (expected "-->" to close comment)');return e=n.substr(0,r),this.pos+=r+3,{type:t.COMMENT,content:e}}}(j),Rr=function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},Ar=function(t,e,n){var r,i,o,s,a,u,h,c,p,f,l,d,g;return r=function(){return i(this)||o(this)},i=function(e){var n,r,i,o;return n=e.pos,e.inside?null:e.getStringMatch("<")?(r={type:t.TAG},e.getStringMatch("!")&&(r.doctype=!0),r.name=s(e),r.name?(i=a(e),i&&(r.attrs=i),e.allowWhitespace(),e.getStringMatch("/")&&(r.selfClosing=!0),e.getStringMatch(">")?(o=r.name.toLowerCase(),("script"===o||"style"===o)&&(e.inside=o),r):(e.pos=n,null)):(e.pos=n,null)):null},o=function(e){var n,r,i;if(n=e.pos,i=function(t){throw new Error("Unexpected character "+e.remaining().charAt(0)+" (expected "+t+")")},!e.getStringMatch("<"))return null;if(r={type:t.TAG,closing:!0},e.getStringMatch("/")||i('"/"'),r.name=s(e),r.name||i("tag name"),e.getStringMatch(">")||i('">"'),e.inside){if(r.name.toLowerCase()!==e.inside)return e.pos=n,null;e.inside=null}return r},s=e(/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/),a=function(t){var e,n,r;if(e=t.pos,!t.getStringMatch(" ")&&!t.getStringMatch("\n"))return null;if(t.allowWhitespace(),r=u(t),!r)return t.pos=e,null;for(n=[];null!==r;)n.push(r),t.allowWhitespace(),r=u(t);return n},u=function(t){var e,n,r;return(n=h(t))?(e={name:n},r=c(t),r&&(e.value=r),e):null},h=e(/^[^\s"'>\/=]+/),c=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.getStringMatch("=")?(t.allowWhitespace(),n=g(t,"'")||g(t,'"')||p(t),null===n?(t.pos=e,null):n):(t.pos=e,null)},l=e(/^[^\s"'=<>`]+/),f=function(e){var n,r,i;return n=e.pos,(r=l(e))?(-1!==(i=r.indexOf(e.delimiters[0]))&&(r=r.substr(0,i),e.pos=n+r.length),{type:t.TEXT,value:r}):null},p=function(t){var e,n;for(e=[],n=t.getMustache()||f(t);null!==n;)e.push(n),n=t.getMustache()||f(t);return e.length?e:null},g=function(t,e){var n,r,i;if(n=t.pos,!t.getStringMatch(e))return null;for(r=[],i=t.getMustache()||d(t,e);null!==i;)r.push(i),i=t.getMustache()||d(t,e);return t.getStringMatch(e)?r:(t.pos=n,null)},d=function(e,r){var i,o,s;if(i=e.pos,s=e.remaining(),o=n(s,[r,e.delimiters[0],e.delimiters[1]]),-1===o)throw new Error("Quoted attribute value must have a closing quote");return o?(e.pos+=o,{type:t.TEXT,value:s.substr(0,o)}):null},r}(j,xn,Rr),Cr=function(t,e){return function(){var n,r,i;return r=this.remaining(),i=this.inside?"</"+this.inside:"<",(n=this.inside&&!this.interpolate[this.inside]?r.indexOf(i):e(r,[i,this.delimiters[0],this.tripleDelimiters[0]]))?(-1===n&&(n=r.length),this.pos+=n,{type:t.TEXT,value:r.substr(0,n)}):null}}(j,Rr),Lr=function(t){return function(e){var n=e.remaining();return"true"===n.substr(0,4)?(e.pos+=4,{t:t.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(e.pos+=5,{t:t.BOOLEAN_LITERAL,v:"false"}):null}}(j),Mr=function(t,e){return function(n){var r,i,o;return r=n.pos,n.allowWhitespace(),i=e(n),null===i?(n.pos=r,null):(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),o=n.getExpression(),null===o?(n.pos=r,null):{t:t.KEY_VALUE_PAIR,k:i,v:o}):(n.pos=r,null))}}(j,Rn),Ir=function(t){return function e(n){var r,i,o,s;return r=n.pos,o=t(n),null===o?null:(i=[o],n.getStringMatch(",")?(s=e(n),s?i.concat(s):(n.pos=r,null)):i)}}(Mr),Fr=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.getStringMatch("{")?(i=e(n),n.allowWhitespace(),n.getStringMatch("}")?{t:t.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(j,Ir),jr=function lo(t){var e,n,r,i;if(e=t.pos,t.allowWhitespace(),r=t.getExpression(),null===r)return null;if(n=[r],t.allowWhitespace(),t.getStringMatch(",")){if(i=lo(t),null===i)return t.pos=e,null;n=n.concat(i)}return n},Pr=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.getStringMatch("[")?(i=e(n),n.getStringMatch("]")?{t:t.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(j,jr),Dr=function(t,e,n,r,i){return function(o){var s=t(o)||e(o)||n(o)||r(o)||i(o);return s}}(Sn,Lr,kn,Fr,Pr),Ur=function(t,e,n){var r,i,o,s;return r=e(/^\.[a-zA-Z_$0-9]+/),i=function(t){var e=o(t);return e?"."+e:null},o=e(/^\[(0|[1-9][0-9]*)\]/),s=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,function(e){var o,a,u,h,c,p,f;for(o=e.pos,a="";e.getStringMatch("../");)a+="../";if(a||(h=e.getStringMatch(".")||""),u=n(e)||"",!a&&!h&&s.test(u))return{t:t.GLOBAL,v:u};if("this"!==u||a||h||(u=".",o+=3),c=(a||h)+u,!c)return null;for(;p=r(e)||i(e);)c+=p;return e.getStringMatch("(")&&(f=c.lastIndexOf("."),-1!==f?(c=c.substr(0,f),e.pos=o+c.length):e.pos-=1),{t:t.REFERENCE,n:c}}}(j,xn,On),Br=function(t){return function(e){var n,r;return n=e.pos,e.getStringMatch("(")?(e.allowWhitespace(),(r=e.getExpression())?(e.allowWhitespace(),e.getStringMatch(")")?{t:t.BRACKETED,x:r}:(e.pos=n,null)):(e.pos=n,null)):null}}(j),Wr=function(t,e,n){return function(r){return t(r)||e(r)||n(r)}}(Dr,Ur,Br),qr=function(t,e){return function(n){var r,i,o;if(r=n.pos,n.allowWhitespace(),n.getStringMatch(".")){if(n.allowWhitespace(),i=e(n))return{t:t.REFINEMENT,n:i};n.expected("a property name")}return n.getStringMatch("[")?(n.allowWhitespace(),o=n.getExpression(),o||n.expected("an expression"),n.allowWhitespace(),n.getStringMatch("]")||n.expected('"]"'),{t:t.REFINEMENT,x:o}):null}}(j,On),zr=function(t,e,n,r){return function(i){var o,s,a,u;if(s=e(i),!s)return null;for(;s;)if(o=i.pos,a=r(i))s={t:t.MEMBER,x:s,r:a};else{if(!i.getStringMatch("("))break;if(i.allowWhitespace(),u=n(i),i.allowWhitespace(),!i.getStringMatch(")")){i.pos=o;break}s={t:t.INVOCATION,x:s},u&&(s.o=u)}return s}}(j,Wr,jr,qr),Qr=function(t,e){var n,r;return r=function(e,n){return function(r){var i,o;return r.getStringMatch(e)?(i=r.pos,r.allowWhitespace(),o=r.getExpression(),o||r.expected("an expression"),{s:e,o:o,t:t.PREFIX_OPERATOR}):n(r)}},function(){var t,i,o,s,a;for(s="! ~ + - typeof".split(" "),a=e,t=0,i=s.length;i>t;t+=1)o=r(s[t],a),a=o;n=a}(),n}(j,zr),Jr=function(t,e){var n,r;return r=function(e,n){return function(r){var i,o,s;if(o=n(r),!o)return null;for(;;){if(i=r.pos,r.allowWhitespace(),!r.getStringMatch(e))return r.pos=i,o;if("in"===e&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0)))return r.pos=i,o;if(r.allowWhitespace(),s=n(r),!s)return r.pos=i,o;o={t:t.INFIX_OPERATOR,s:e,o:[o,s]}}}},function(){var t,i,o,s,a;for(s="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),a=e,t=0,i=s.length;i>t;t+=1)o=r(s[t],a),a=o;n=a}(),n}(j,Qr),Vr=function(t,e){return function(n){var r,i,o,s;return(i=e(n))?(r=n.pos,n.allowWhitespace(),n.getStringMatch("?")?(n.allowWhitespace(),(o=n.getExpression())?(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),s=n.getExpression(),s?{t:t.CONDITIONAL,o:[i,o,s]}:(n.pos=r,i)):(n.pos=r,i)):(n.pos=r,i)):(n.pos=r,i)):null
}}(j,Jr),$r=function(t){return function(){return t(this)}}(Vr),Hr=function(t,e,n,r,i,o,s){var a;return a=function(t,e){var n;for(this.str=t,this.pos=0,this.delimiters=e.delimiters,this.tripleDelimiters=e.tripleDelimiters,this.interpolate=e.interpolate,this.tokens=[];this.pos<this.str.length;)n=this.getToken(),null===n&&this.remaining()&&this.fail(),this.tokens.push(n)},a.prototype={getToken:function(){var t=this.getMustache()||this.getComment()||this.getTag()||this.getText();return t},getMustache:t,getComment:e,getTag:n,getText:r,getExpression:i,allowWhitespace:o,getStringMatch:s,remaining:function(){return this.str.substring(this.pos)},fail:function(){var t,e;throw t=this.str.substr(0,this.pos).substr(-20),20===t.length&&(t="..."+t),e=this.remaining().substr(0,20),20===e.length&&(e+="..."),new Error("Could not parse template: "+(t?t+"<- ":"")+"failed at character "+this.pos+" ->"+e)},expected:function(t){var e=this.remaining().substr(0,40);throw 40===e.length&&(e+="..."),new Error('Tokenizer failed: unexpected string "'+e+'" (expected '+t+")")}},a}(Sr,Or,Ar,Cr,$r,En,bn),Xr=function(t,e,n,r,i){return function(o,s){var a,u;return s=s||{},s.stripComments!==!1&&(o=e(o)),a=new i(o,{delimiters:s.delimiters||t.defaults.delimiters,tripleDelimiters:s.tripleDelimiters||t.defaults.tripleDelimiters,interpolate:{script:s.interpolateScripts!==!1?!0:!1,style:s.interpolateStyles!==!1?!0:!1}}),u=a.tokens,n(u),r(u),u}}(r,Er,xr,_r,Hr),Gr=function(t){var e,n,r,i,o,s,a,u,h;return e=function(t,e){this.text=e?t.value:t.value.replace(h," ")},e.prototype={type:t.TEXT,toJSON:function(){return this.decoded||(this.decoded=u(this.text))},toString:function(){return this.text}},n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},r=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],i=new RegExp("&("+Object.keys(n).join("|")+");?","g"),o=/&#x([0-9]+);?/g,s=/&#([0-9]+);?/g,a=function(t){return t?10===t?32:128>t?t:159>=t?r[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533},u=function(t){var e;return e=t.replace(i,function(t,e){return n[e]?String.fromCharCode(n[e]):t}),e=e.replace(o,function(t,e){return String.fromCharCode(a(parseInt(e,16)))}),e=e.replace(s,function(t,e){return String.fromCharCode(a(e))})},h=/\s+/g,e}(j),Kr=function(t,e){return function(n,r){return n.type===t.TEXT?(this.pos+=1,new e(n,r)):null}}(j,Gr),Yr=function(t){var e;return e=function(t){this.content=t.content},e.prototype={toJSON:function(){return{t:t.COMMENT,f:this.content}},toString:function(){return"<!--"+this.content+"-->"}},e}(j),Zr=function(t,e){return function(n){return n.type===t.COMMENT?(this.pos+=1,new e(n,this.preserveWhitespace)):null}}(j,Yr),ti=function(t,e){function n(t){return JSON.stringify(String(t))}function r(n,i){var o,s;if(n.t===t.REFERENCE&&-1===i.indexOf(n.n)&&i.unshift(n.n),s=n.o||n.m)if(e(s))r(s,i);else for(o=s.length;o--;)r(s[o],i);n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)}function i(e,r){var o=function(t){return i(t,r)};switch(e.t){case t.BOOLEAN_LITERAL:case t.GLOBAL:case t.NUMBER_LITERAL:return e.v;case t.STRING_LITERAL:return n(e.v);case t.ARRAY_LITERAL:return"["+(e.m?e.m.map(o).join(","):"")+"]";case t.OBJECT_LITERAL:return"{"+(e.m?e.m.map(o).join(","):"")+"}";case t.KEY_VALUE_PAIR:return e.k+":"+i(e.v,r);case t.PREFIX_OPERATOR:return("typeof"===e.s?"typeof ":e.s)+i(e.o,r);case t.INFIX_OPERATOR:return i(e.o[0],r)+("in"===e.s.substr(0,2)?" "+e.s+" ":e.s)+i(e.o[1],r);case t.INVOCATION:return i(e.x,r)+"("+(e.o?e.o.map(o).join(","):"")+")";case t.BRACKETED:return"("+i(e.x,r)+")";case t.MEMBER:return i(e.x,r)+i(e.r,r);case t.REFINEMENT:return e.n?"."+e.n:"["+i(e.x,r)+"]";case t.CONDITIONAL:return i(e.o[0],r)+"?"+i(e.o[1],r)+":"+i(e.o[2],r);case t.REFERENCE:return"${"+r.indexOf(e.n)+"}";default:throw new Error("Could not stringify expression token. This error is unexpected")}}var o=function(t){this.refs=[],r(t,this.refs),this.str=i(t,this.refs)};return o.prototype={toJSON:function(){return this.json||(this.json={r:this.refs,s:this.str}),this.json}},o}(j,Z),ei=function(t,e){function n(n){return n.n?n.n:n.x.t===t.STRING_LITERAL||n.x.t===t.NUMBER_LITERAL?n.x.v:n.x.t===t.REFERENCE?n.x:new e(n.x).toJSON()}var r;return r=function(t){this.json={r:t.r,m:t.m.map(n)}},r.prototype={toJSON:function(){return this.json}},r}(j,ti),ni=function(t,e,n){var r=function(r,i){this.type=r.type===t.TRIPLE?t.TRIPLE:r.mustacheType,r.ref&&(this.ref=r.ref),r.keypathExpression&&(this.keypathExpr=new e(r.keypathExpression)),r.expression&&(this.expr=new n(r.expression)),i.pos+=1};return r.prototype={toJSON:function(){var t;return this.json?this.json:(t={t:this.type},this.ref&&(t.r=this.ref),this.keypathExpr&&(t.kx=this.keypathExpr.toJSON()),this.expr&&(t.x=this.expr.toJSON()),this.json=t,t)},toString:function(){return!1}},r}(j,ei,ti),ri=function(t){var e,n,r,i="";if(!t)return"";for(n=0,r=t.length;r>n;n+=1){if(e=t[n].toString(),e===!1)return!1;i+=e}return i},ii=function(t){return function(e,n,r){var i,o;return r||n||(i=t(e),i===!1)?o=e.map(function(t){return t.toJSON(n)}):i}}(ri),oi=function(t,e,n,r,i){function o(t,n){var r=t.ref,i=e(n.ref.trim());if(r&&i&&(t.indexRef&&(r+=":"+t.indexRef),r.substr(0,i.length)!==i))throw new Error("Could not parse template: Illegal closing section {{/"+i+"}}. Expected {{/"+t.ref+"}}.")}var s=function(e,n){var s;for(this.ref=e.ref,this.indexRef=e.indexRef,this.inverted=e.mustacheType===t.INVERTED,e.keypathExpression&&(this.keypathExpr=new r(e.keypathExpression)),e.expression&&(this.expr=new i(e.expression)),n.pos+=1,this.items=[],s=n.next();s;){if(s.mustacheType===t.CLOSING){o(this,s),n.pos+=1;break}this.items.push(n.getStub()),s=n.next()}};return s.prototype={toJSON:function(e){var r;return this.json?this.json:(r={t:t.SECTION},this.ref&&(r.r=this.ref),this.indexRef&&(r.i=this.indexRef),this.inverted&&(r.n=!0),this.expr&&(r.x=this.expr.toJSON()),this.keypathExpr&&(r.kx=this.keypathExpr.toJSON()),this.items.length&&(r.f=n(this.items,e)),this.json=r,r)},toString:function(){return!1}},s}(j,g,ii,ei,ti),si=function(t,e,n){return function(r){return r.type===t.MUSTACHE||r.type===t.TRIPLE?r.mustacheType===t.SECTION||r.mustacheType===t.INVERTED?new n(r,this):new e(r,this):void 0}}(j,ni,oi),ai={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]},ui=function(t){function e(n){var r,i;if("object"!=typeof n)return n;if(t(n))return n.map(e);r={};for(i in n)n.hasOwnProperty(i)&&(r[i]=e(n[i]));return r}return function(t){var n,r,i,o,s,a;for(i={},n=[],r=[],s=t.length,o=0;s>o;o+=1)if(a=t[o],"intro"===a.name){if(i.intro)throw new Error("An element can only have one intro transition");i.intro=a}else if("outro"===a.name){if(i.outro)throw new Error("An element can only have one outro transition");i.outro=a}else if("intro-outro"===a.name){if(i.intro||i.outro)throw new Error("An element can only have one intro and one outro transition");i.intro=a,i.outro=e(a)}else"proxy-"===a.name.substr(0,6)?(a.name=a.name.substring(6),r.push(a)):"on-"===a.name.substr(0,3)?(a.name=a.name.substring(3),r.push(a)):"decorator"===a.name?i.decorator=a:n.push(a);return i.attrs=n,i.proxies=r,i}}(C),hi=function(t,e){return function(n){var r,i,o,s,a,u,h,c;for(a=function(){throw new Error("Illegal directive")},n.name&&n.value||a(),r={directiveType:n.name},i=n.value,u=[],h=[];i.length;)if(o=i.shift(),o.type===t.TEXT){if(s=o.value.indexOf(":"),-1!==s){s&&u.push({type:t.TEXT,value:o.value.substr(0,s)}),o.value.length>s+1&&(h[0]={type:t.TEXT,value:o.value.substring(s+1)});break}u.push(o)}else u.push(o);return h=h.concat(i),r.name=1===u.length&&u[0].type===t.TEXT?u[0].value:u,h.length&&(1===h.length&&h[0].type===t.TEXT?(c=e("["+h[0].value+"]"),r.args=c?c.value:h[0].value):r.dynamicArgs=h),r}}(j,An),ci=function(t,e){var n;return n=function(t,e){var n;for(this.tokens=t||[],this.pos=0,this.options=e,this.result=[];n=this.getStub();)this.result.push(n)},n.prototype={getStub:function(){var t=this.next();return t?this.getText(t)||this.getMustache(t):null},getText:t,getMustache:e,next:function(){return this.tokens[this.pos]}},n}(Kr,si),pi=function(t,e,n){var r;return r=function(e){var n=new t(e);this.stubs=n.result},r.prototype={toJSON:function(t){var e;return this["json_"+t]?this["json_"+t]:e=this["json_"+t]=n(this.stubs,t)},toString:function(){return void 0!==this.str?this.str:(this.str=e(this.stubs),this.str)}},r}(ci,ri,ii),fi=function(t){return function(e){var n,r;if("string"==typeof e.name){if(!e.args&&!e.dynamicArgs)return e.name;r=e.name}else r=new t(e.name).toJSON();return n={n:r},e.args?(n.a=e.args,n):(e.dynamicArgs&&(n.d=new t(e.dynamicArgs).toJSON()),n)}}(pi),li=function(t,e,n){return function(r){var i,o,s,a,u,h,c;if(this["json_"+r])return this["json_"+r];if(i={t:t.ELEMENT,e:this.tag},this.doctype&&(i.y=1),this.attributes&&this.attributes.length)for(i.a={},h=this.attributes.length,u=0;h>u;u+=1){if(c=this.attributes[u],o=c.name,i.a[o])throw new Error("You cannot have multiple attributes with the same name");s=null===c.value?null:c.value.toJSON(r),i.a[o]=s}if(this.items&&this.items.length&&(i.f=e(this.items,r)),this.proxies&&this.proxies.length)for(i.v={},h=this.proxies.length,u=0;h>u;u+=1)a=this.proxies[u],i.v[a.directiveType]=n(a);return this.intro&&(i.t1=n(this.intro)),this.outro&&(i.t2=n(this.outro)),this.decorator&&(i.o=n(this.decorator)),this["json_"+r]=i,i}}(j,ii,fi),di=function(t,e){var n;return n="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),function(){var r,i,o,s,a,u,h,c;if(void 0!==this.str)return this.str;if(-1===n.indexOf(this.tag.toLowerCase()))return this.str=!1;if(this.proxies||this.intro||this.outro||this.decorator)return this.str=!1;if(h=t(this.items),h===!1)return this.str=!1;if(c=-1!==e.indexOf(this.tag.toLowerCase()),r="<"+this.tag,this.attributes)for(i=0,o=this.attributes.length;o>i;i+=1){if(a=this.attributes[i].name,-1!==a.indexOf(":"))return this.str=!1;if("id"===a||"intro"===a||"outro"===a)return this.str=!1;if(s=" "+a,null!==this.attributes[i].value){if(u=this.attributes[i].value.toString(),u===!1)return this.str=!1;""!==u&&(s+="=",s+=/[\s"'=<>`]/.test(u)?'"'+u.replace(/"/g,"&quot;")+'"':u)}r+=s}return this.selfClosing&&!c?(r+="/>",this.str=r):(r+=">",c?this.str=r:(r+=h,r+="</"+this.tag+">",this.str=r))}}(ri,pr),gi=function(t,e,n,r,i,o,s,a,u){var h,c,p,f,l,d=/^\s+/,g=/\s+$/;return h=function(s,a,h){var c,p,f,v,m,y,w;if(a.pos+=1,y=function(t){return{name:t.name,value:t.value?new u(t.value):null}},this.tag=s.name,w=s.name.toLowerCase(),"rv-"===w.substr(0,3)&&(n('The "rv-" prefix for components has been deprecated. Support will be removed in a future version'),this.tag=this.tag.substring(3)),h=h||"pre"===w||"style"===w||"script"===w,s.attrs&&(f=i(s.attrs),p=f.attrs,v=f.proxies,a.options.sanitize&&a.options.sanitize.eventAttributes&&(p=p.filter(l)),p.length&&(this.attributes=p.map(y)),v.length&&(this.proxies=v.map(o)),f.intro&&(this.intro=o(f.intro)),f.outro&&(this.outro=o(f.outro)),f.decorator&&(this.decorator=o(f.decorator))),s.doctype&&(this.doctype=!0),s.selfClosing&&(this.selfClosing=!0),-1!==e.indexOf(w)&&(this.isVoid=!0),!this.selfClosing&&!this.isVoid){for(this.siblings=r[w],this.items=[],c=a.next();c&&c.mustacheType!==t.CLOSING;){if(c.type===t.TAG){if(c.closing){c.name.toLowerCase()===w&&(a.pos+=1);break}if(this.siblings&&-1!==this.siblings.indexOf(c.name.toLowerCase()))break}this.items.push(a.getStub(h)),c=a.next()}h||(m=this.items[0],m&&m.type===t.TEXT&&(m.text=m.text.replace(d,""),m.text||this.items.shift()),m=this.items[this.items.length-1],m&&m.type===t.TEXT&&(m.text=m.text.replace(g,""),m.text||this.items.pop()))}},h.prototype={toJSON:s,toString:a},c="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),p="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),f=/^on[a-zA-Z]/,l=function(t){var e=!f.test(t.name);return e},h}(j,pr,Y,ai,ui,hi,li,di,pi),vi=function(t){return function(e){return this.options.sanitize&&this.options.sanitize.elements&&-1!==this.options.sanitize.elements.indexOf(e.name.toLowerCase())?null:new t(e,this,this.preserveWhitespace)}}(gi),mi=function(t,e,n,r,i){var o;return o=function(t,e){var n,r;for(this.tokens=t||[],this.pos=0,this.options=e,this.preserveWhitespace=e.preserveWhitespace,r=[];n=this.getStub();)r.push(n);this.result=i(r,e.noStringify,!0)},o.prototype={getStub:function(t){var e=this.next();return e?this.getText(e,this.preserveWhitespace||t)||this.getComment(e)||this.getMustache(e)||this.getElement(e):null},getText:t,getComment:e,getMustache:n,getElement:r,next:function(){return this.tokens[this.pos]}},o}(Kr,Zr,si,vi,ii),yi=function(t,e,n){var r,i,o,s,a;return i=/^\s*$/,o=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,s=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,r=function(r,s){var u,h,c;return s=s||{},o.test(r)?a(r,s):(s.sanitize===!0&&(s.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),u=t(r,s),s.preserveWhitespace||(c=u[0],c&&c.type===e.TEXT&&i.test(c.value)&&u.shift(),c=u[u.length-1],c&&c.type===e.TEXT&&i.test(c.value)&&u.pop()),h=new n(u,s).result,"string"==typeof h?[h]:h)},a=function(t,e){var n,i,a,u,h,c;for(a={},n="",i=t;h=o.exec(i);){if(u=h[1],n+=i.substr(0,h.index),i=i.substring(h.index+h[0].length),c=s.exec(i),!c||c[1]!==u)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");a[u]=r(i.substr(0,c.index),e),i=i.substring(c.index+c[0].length)}return{main:r(n,e),partials:a}},r}(Xr,j,mi),wi=function(){function t(t,e){var r=n.exec(e)[0];return null===t||r.length<t.length?r:t}var e=/^\s*$/,n=/^\s*/;return function(n){var r,i,o,s;return r=n.split("\n"),i=r[0],void 0!==i&&e.test(i)&&r.shift(),o=r[r.length-1],void 0!==o&&e.test(o)&&r.pop(),s=r.reduce(t,null),s&&(n=r.map(function(t){return t.replace(s,"")}).join("\n")),n}}(),bi=function(t,e,n,r,i,o,s){var a,u,h,c;return a=function(r,a){var p,f,l;if(f=h(r,a))return f;if(e&&(p=document.getElementById(a),p&&"SCRIPT"===p.tagName)){if(!o)throw new Error(t.missingParser);u(o(s(p.text),r.parseOptions),a,i)}if(f=i[a],!f){if(l='Could not find descriptor for partial "'+a+'"',r.debug)throw new Error(l);return n(l),[]}return c(f)},h=function(e,n){var r;if(e.partials[n]){if("string"==typeof e.partials[n]){if(!o)throw new Error(t.missingParser);r=o(e.partials[n],e.parseOptions),u(r,n,e.partials)}return c(e.partials[n])}},u=function(t,e,n){var i;if(r(t)){n[e]=t.main;for(i in t.partials)t.partials.hasOwnProperty(i)&&(n[i]=t.partials[i])}else n[e]=t},c=function(t){return 1===t.length&&"string"==typeof t[0]?t[0]:t},a}(wr,a,Y,Z,br,yi,wi),Ei=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},xi=function(t,e,n,r){var i,o;return r.push(function(){o=r.DomFragment}),i=function(n,r){var i,s=this.parentFragment=n.parentFragment;if(this.type=t.PARTIAL,this.name=n.descriptor.r,this.index=n.index,!n.descriptor.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");i=e(s.root,n.descriptor.r),this.fragment=new o({descriptor:i,root:s.root,pNode:s.pNode,owner:this}),r&&r.appendChild(this.fragment.docFrag)},i.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},reassign:function(t,e,n,r){return this.fragment.reassign(t,e,n,r)},teardown:function(t){this.fragment.teardown(t)},toString:function(){var e,r,i,o;return e=this.fragment.toString(),r=this.parentFragment.items[this.index-1],r&&r.type===t.TEXT?(i=r.descriptor.split("\n").pop(),(o=/^\s+$/.exec(i))?n(e,o[0]):e):e},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)}},i}(j,bi,Ei,w),_i=function(t,e){var n=function(t,n,r){this.parentFragment=t.parentFragment,this.component=t,this.key=n,this.fragment=new e({descriptor:r,root:t.root,owner:this}),this.selfUpdating=this.fragment.isSimple(),this.value=this.fragment.getValue()};return n.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(t.addAttribute(this),this.deferred=!0)},update:function(){var t=this.fragment.getValue();this.component.instance.set(this.key,t),this.value=t},teardown:function(){this.fragment.teardown()}},n}(R,Fn),Ti=function(t,e,n,r,i){function o(o,s,a,u){var h,c,p,f,l,d;return p=o.root,f=o.parentFragment,"string"==typeof a?(c=e(a),c?c.value:a):null===a?!0:1===a.length&&a[0].t===t.INTERPOLATOR&&a[0].r?f.indexRefs&&void 0!==f.indexRefs[d=a[0].r]?(o.indexRefBindings[d]=s,f.indexRefs[d]):(l=n(p,a[0].r,f)||a[0].r,u.push({childKeypath:s,parentKeypath:l}),r(p,l)):(h=new i(o,s,a),o.complexParameters.push(h),h.value)}return function(t,e,n,r){var i,s,a;i={},t.complexParameters=[];for(s in n)n.hasOwnProperty(s)&&(a=o(t,s,n[s],r),(void 0!==a||void 0===e[s])&&(i[s]=a));return i}}(j,An,N,K,_i),Ni=function(){function t(t,e){var n,r,i;if(n=t.adapt.length?t.adapt.map(function(e){return"object"==typeof e?e:t.adaptors[e]||e}):[],r=e.length)for(i=0;r>i;i+=1)-1===n.indexOf(e[i])&&n.push(e[i]);return n}return function(e,n,r,i,o){var s,a,u,h,c;return a=e.parentFragment,h=e.root,u={content:o||[]},c=t(h,n.defaults.adapt,n.adaptors),s=new n({el:a.pNode,append:!0,data:r,partials:u,magic:h.magic||n.defaults.magic,modifyArrays:h.modifyArrays,_parent:h,_component:e,adapt:c}),i&&(s.insert(i),s.fragment.pNode=s.el=a.pNode),s}}(),ki=function(t,e,n){return function(r,i){i.forEach(function(i){var o,s;t(r,r.root,i.parentKeypath,i.childKeypath),o=e(r.instance,i.childKeypath),s=e(r.root,i.parentKeypath),void 0!==o&&void 0===s&&n(r.root,i.parentKeypath,o)})}}(H,K,U),Si=function(t){function e(e,r,i,o){if("string"!=typeof o){if(r.debug)throw new Error(n);return t(n),void 0}e.on(i,function(){var t=Array.prototype.slice.call(arguments);t.unshift(o),r.fire.apply(r,t)})}var n="Components currently only support simple events - you cannot include arguments. Sorry!";return function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t.instance,t.root,r,n[r])}}(Y),Oi=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries[t.name])&&n.push(t.instance),e=e._parent},Ri=function(t,e,n,r,i,o,s){return function(a,u,h){var c,p,f,l,d;if(c=a.parentFragment=u.parentFragment,p=c.root,a.root=p,a.type=t.COMPONENT,a.name=u.descriptor.e,a.index=u.index,a.indexRefBindings={},a.bindings=[],f=p.components[u.descriptor.e],!f)throw new Error('Component "'+u.descriptor.e+'" not found');d=[],l=n(a,f.data||{},u.descriptor.a,d),r(a,f,l,h,u.descriptor.f),i(a,d),o(a,u.descriptor.v),(u.descriptor.t1||u.descriptor.t2||u.descriptor.o)&&e('The "intro", "outro" and "decorator" directives have no effect on components'),s(a)}}(j,Y,Ti,Ni,ki,Si,Oi),Ai=function(t,e){function n(t){var e,n;e=t.root;do(n=e._liveComponentQueries[t.name])&&n._remove(t);while(e=e._parent)}var r=function(e,n){t(this,e,n)};return r.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.instance.fragment.detach()},teardown:function(t){for(;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.bindings.length;)this.bindings.pop().teardown();n(this),this.shouldDestroy=t,this.instance.teardown()},reassign:function(t,n,r,i){var o,s,a=this.instance,u=a._parent;this.bindings.forEach(function(o){var s;o.root===u&&(o.keypath===t&&a.set(o.otherKeypath,n),(s=e(o.keypath,r,i))&&o.reassign(s))}),(o=this.indexRefBindings[t])&&a.set(o,n),(s=this.root._liveComponentQueries[this.name])&&s._makeDirty()},toString:function(){return this.instance.fragment.toString()},find:function(t){return this.instance.fragment.find(t)},findAll:function(t,e){return this.instance.fragment.findAll(t,e)},findComponent:function(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance},findAllComponents:function(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}},r}(Ri,Pe),Ci=function(t,e){var n=function(e,n){this.type=t.COMMENT,this.descriptor=e.descriptor,n&&(this.node=document.createComment(e.descriptor.f),n.appendChild(this.node))};return n.prototype={detach:e,teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}},n}(j,qe),Li=function(t,e,n,r,i,o,s,a,u,h,c,p,f){var l=function(t){t.pNode&&(this.docFrag=document.createDocumentFragment()),"string"==typeof t.descriptor?(this.html=t.descriptor,this.docFrag&&(this.nodes=r(this.html,t.pNode.tagName,t.pNode.namespaceURI,this.docFrag))):n.init(this,t)};return l.prototype={reassign:n.reassign,detach:function(){var t,e;if(this.docFrag){if(this.nodes)for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);else if(this.items)for(t=this.items.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.items[e].detach());return this.docFrag}},createItem:function(e){if("string"==typeof e.descriptor)return new i(e,this.docFrag);switch(e.descriptor.t){case t.INTERPOLATOR:return new o(e,this.docFrag);case t.SECTION:return new s(e,this.docFrag);case t.TRIPLE:return new a(e,this.docFrag);case t.ELEMENT:return this.root.components[e.descriptor.e]?new c(e,this.docFrag):new u(e,this.docFrag);case t.PARTIAL:return new h(e,this.docFrag);case t.COMMENT:return new p(e,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(t){var e;if(this.nodes&&t)for(;e=this.nodes.pop();)e.parentNode.removeChild(e);else if(this.items)for(;this.items.length;)this.items.pop().teardown(t);this.nodes=this.items=this.docFrag=null},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(t){var e=t.index;return this.items[e+1]?this.items[e+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},toString:function(){var t,e,n,r;if(this.html)return this.html;if(t="",!this.items)return t;for(n=this.items.length,e=0;n>e;e+=1)r=this.items[e],t+=r.toString();return t},find:function(t){var n,r,i,o,s;if(this.nodes){for(r=this.nodes.length,n=0;r>n;n+=1)if(o=this.nodes[n],1===o.nodeType){if(e(o,t))return o;if(s=o.querySelector(t))return s}return null}if(this.items){for(r=this.items.length,n=0;r>n;n+=1)if(i=this.items[n],i.find&&(s=i.find(t)))return s;return null}},findAll:function(t,n){var r,i,o,s,a,u,h;if(this.nodes){for(i=this.nodes.length,r=0;i>r;r+=1)if(s=this.nodes[r],1===s.nodeType&&(e(s,t)&&n.push(s),a=s.querySelectorAll(t)))for(u=a.length,h=0;u>h;h+=1)n.push(a[h])}else if(this.items)for(i=this.items.length,r=0;i>r;r+=1)o=this.items[r],o.findAll&&o.findAll(t,n);return n},findComponent:function(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}},findAllComponents:function(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e}},f.DomFragment=l,l}(j,se,Be,We,ze,nn,hn,cn,yr,xi,Ai,Ci,w),Mi=function(t,e,n){function r(t){for(var e;e=t._childInitQueue.pop();)e.instance.init&&e.instance.init(e.options),r(e.instance)}return function(i,o){if(this._rendering=!0,t.start(this,o),!this._initing)throw new Error("You cannot call ractive.render() directly!");this.constructor.css&&e.add(this.constructor),this.fragment=new n({descriptor:this.template,root:this,owner:this,pNode:i}),i&&i.appendChild(this.fragment.docFrag),this._parent&&this._parent._rendering||r(this),delete this._rendering,t.end()}}(R,E,Li),Ii=function(t){return function(){return t("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead"),this.toHTML()}}(Y),Fi=function(t,e,n,r){return function(i,o){var s,a,u;if("function"==typeof i?(o=i,i={}):i=i||{},"object"!=typeof i)throw new Error("The reset method takes either no arguments, or an object containing new data");return s=new t(function(t){a=t}),o&&s.then(o),e.start(this,a),(u=this._wrapped[""])&&u.reset?u.reset(i)===!1&&(this.data=i):this.data=i,n(this,""),r(this,""),e.end(),this.fire("reset",i),s}}(d,R,P,S),ji=function(t,e,n,r,i){return function(o,s,a){var u,h,c;if(h=new r(function(t){c=t}),t.start(this,c),e(o)){u=o,a=s;for(o in u)u.hasOwnProperty(o)&&(s=u[o],o=n(o),i(this,o,s))}else o=n(o),i(this,o,s);return t.end(),a&&h.then(a.bind(this)),h}}(R,Z,g,d,U),Pi=function(t){return function(e,n){return t(this,e,void 0===n?-1:-n)}}(p),Di=function(t,e,n,r,i){return function(o){var s,a,u,h,c,p,f,l;if(this.fire("teardown"),h=!this.component||this.component.shouldDestroy,this.constructor.css)if(h)c=o,o=function(){c&&c.call(this),e.remove(this.constructor)};else{p=this.component.parentFragment;do p.owner.type===t.ELEMENT&&p.owner.willDetach&&(f=p.owner);while(!f&&(p=p.parent));if(!f)throw new Error("A component is being torn down but doesn't have a nearest detaching element... this shouldn't happen!");f.cssDetachQueue.push(this.constructor)}for(a=new r(function(t){u=t}),n.start(this,u),this.fragment.teardown(h);this._animations[0];)this._animations[0].stop();for(s in this._cache)i(this,s);for(;l=this._unresolvedImplicitDependencies.pop();)l.teardown();return n.end(),o&&a.then(o.bind(this)),a}}(j,E,R,d,P),Ui=function(){return this.fragment.toString()},Bi=function(t,e){var n;{if("string"==typeof t)return n=this.get(t),this.set(t,!n,e);if(this.debug)throw new Error("Bad arguments")}},Wi=function(t,e,n,r){return function(i,o){var s,a;return"function"==typeof i?(o=i,i=""):i=i||"",s=new e(function(t){a=t}),t.start(this,a),n(this,i),r(this,i),t.end(),this.fire("update",i),o&&s.then(o.bind(this)),s}}(R,d,P,S),qi=function(t,e,n){function r(t,i,o,s,a){var u,h,c,p,f,l;if(u=t._twowayBindings[i])for(c=u.length;c--;)p=u[c],(!p.radioName||p.node.checked)&&(p.checkboxName?p.changed()&&s[i]!==!0&&(s[i]=!0,s.push(i)):(f=p.attr.value,l=p.value(),e(f,l)||n(f,l)||(o[i]=l)));if(a&&(h=t._depsMap[i]))for(c=h.length;c--;)r(t,h[c],o,s,a)}return function(e,n){var i,o,s;if("string"!=typeof e&&(e="",n=!0),r(this,e,i={},o=[],n),s=o.length)for(;s--;)e=o[s],i[e]=t(this,e);this.set(i)}}(x,mn,l),zi=function(t,e,n,r,i,o,s,a,u,h,c,p,f,l,d,g,v,m,y,w,b,E,x,_){return{add:t,animate:e,detach:n,find:r,findAll:i,findAllComponents:o,findComponent:s,fire:a,get:u,insert:h,merge:c,observe:p,off:f,on:l,render:d,renderHTML:g,reset:v,set:m,subtract:y,teardown:w,toHTML:b,toggle:E,update:x,updateModel:_}}(f,re,ie,oe,ge,ve,me,ye,be,xe,Ne,Ae,Ce,Le,Mi,Ii,Fi,ji,Pi,Di,Ui,Bi,Wi,qi),Qi={},Ji={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},Vi=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,n="x"==t?e:3&e|8,n.toString(16)})},$i=function(t){for(var e,n,r=Array.prototype.slice.call(arguments,1);n=r.shift();)for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},Hi=["adaptors","components","decorators","easing","events","interpolators","partials","transitions","data"],Xi=function(){function t(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function e(t){return t.str}var n=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,r=/\/\*.*?\*\//g,i=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g;return function(o,s){var a,u;return u=function(t){var n,r,o,a,u,h,c,p,f=[];for(n=[];r=i.exec(t);)n.push({str:r[0],base:r[1],modifiers:r[2]});for(a='[data-rvcguid="'+s+'"]',u=n.map(e),p=n.length;p--;)c=u.slice(),o=n[p],c[p]=o.base+a+o.modifiers||"",h=u.slice(),h[p]=a+" "+h[p],f.push(c.join(" "),h.join(" "));
return f.join(", ")},a=o.replace(r,"").replace(n,function(e,n){var r,i;return r=n.split(",").map(t),i=r.map(u).join(", ")+" ",e.replace(n,i)})}}(),Gi=function(t,e,n,r){return function(i,o){t.forEach(function(t){o[t]&&(i[t]=e(o[t]))}),n(i,"defaults",{value:e(o.defaults)}),o.css&&n(i,"css",{value:o.defaults.noCssTransform?o.css:r(o.css,i._guid)})}}(Hi,Me,u,Xi),Ki=function(t,e){return/_super/.test(t)?function(){var n,r=this._super;return this._super=e,n=t.apply(this,arguments),this._super=r,n}:t},Yi=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},Zi=function(t,e,n,r,i,o){var s={};return e.concat(t.keys).forEach(function(t){s[t]=!0}),function(a,u){var h,c;e.forEach(function(t){var e=u[t];e&&(a[t]?i(a[t],e):a[t]=e)}),t.keys.forEach(function(t){var e=u[t];void 0!==e&&(a.defaults[t]="function"==typeof e&&"function"==typeof a[t]?r(e,a[t]):u[t])});for(h in u)!s[h]&&u.hasOwnProperty(h)&&(c=u[h],a.prototype[h]="function"==typeof c&&"function"==typeof a.prototype[h]?r(c,a.prototype[h]):c);u.css&&n(a,"css",{value:a.defaults.noCssTransform?u.css:o(u.css,a._guid)})}}(r,Hi,u,Ki,Yi,Xi),to=function(t,e){return function(n,r){t(n.defaults.template)&&(n.partials||(n.partials={}),e(n.partials,n.defaults.template.partials),r.partials&&e(n.partials,r.partials),n.defaults.template=n.defaults.template.main)}}(Z,Yi),eo=function(t,e,n){return function(r){var i;if("string"==typeof r.defaults.template){if(!n)throw new Error(t.missingParser);if("#"===r.defaults.template.charAt(0)&&e){if(i=document.getElementById(r.defaults.template.substring(1)),!i||"SCRIPT"!==i.tagName)throw new Error("Could not find template element ("+r.defaults.template+")");r.defaults.template=n(i.innerHTML,r)}else r.defaults.template=n(r.defaults.template,r.defaults)}}}(wr,a,yi),no=function(t,e){return function(n){var r;if(n.partials)for(r in n.partials)if(n.partials.hasOwnProperty(r)&&"string"==typeof n.partials[r]){if(!e)throw new Error(t.missingParser);n.partials[r]=e(n.partials[r],n)}}}(wr,yi),ro=function(){function t(t){var n="var __ractive=this;return("+t.replace(e,function(t,e){return'__ractive.get("'+e+'")'})+")";return new Function(n)}var e=/\$\{([^\}]+)\}/g;return function(e){return"function"==typeof e?{get:e}:"string"==typeof e?{get:t(e)}:("object"==typeof e&&"string"==typeof e.get&&(e={get:t(e.get),set:e.set}),e)}}(),io=function(t,e,n){var r=function(t,n){this.root=t.ractive,this.keypath=n,this.priority=0,this.computation=t,e(this)};return r.prototype={update:function(){var e;e=this.root.get(this.keypath),t(e,this.value)||this.computation.bubble()},teardown:function(){n(this)}},r}(l,V,$),oo=function(t,e,n,r){function i(t,e,n){var i,o,s;for(i=e.length;i--;)o=e[i],n[o.keypath]||(e.splice(i,1),e[o.keypath]=null,o.teardown());for(i=n.length;i--;)s=n[i],e[s]||(o=new r(t,s),e.push(e[s]=o))}var o=function(t,e,n){this.ractive=t,this.key=e,this.getter=n.get,this.setter=n.set,this.watchers=[],this.update()};return o.prototype={set:function(t){if(this.setting)return this.value=t,void 0;if(!this.setter)throw new Error("Computed properties without setters are read-only in the current version");this.setter.call(this.ractive,t)},update:function(){var e,r,o,s;e=this.ractive,r=e._captured,r||(e._captured=[]);try{o=this.getter.call(e)}catch(a){e.debug&&t('Failed to compute "'+this.key+'": '+a.message||a),s=!0}i(this,this.watchers,e._captured),e._captured=r,s||(this.setting=!0,this.value=o,n(e,this.key,o),this.setting=!1),this.deferred=!1},bubble:function(){this.watchers.length<=1?this.update():this.deferred||(e.addComputation(this),this.deferred=!0)}},o}(Y,R,U,io),so=function(t,e){return function(n,r){var i,o;for(i in r)o=t(r[i]),n._computations[i]=new e(n,i,o)}}(ro,oo),ao=function(t,e,n,r,i,o,s,a,u,h,c,p,f,l,d,g,v){var m=["adapt","modifyArrays","magic","twoway","lazy","debug","isolated"];return function(y,w){var b,E,x,_,T,N,k;if(p(w.adaptors)&&(i("The `adaptors` option, to indicate which adaptors should be used with a given Ractive instance, has been deprecated in favour of `adapt`. See [TODO] for more information"),w.adapt=w.adaptors,delete w.adaptors),b=y.constructor.defaults,n.keys.forEach(function(t){void 0===w[t]&&(w[t]=b[t])}),m.forEach(function(t){y[t]=w[t]}),"string"==typeof y.adapt&&(y.adapt=[y.adapt]),y.magic&&!d)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(u(y,{_initing:{value:!0,writable:!0},_guid:{value:f()},_subs:{value:o(null),configurable:!0},_cache:{value:{}},_cacheMap:{value:o(null)},_deps:{value:[]},_depsMap:{value:o(null)},_patternObservers:{value:[]},_evaluators:{value:o(null)},_computations:{value:o(null)},_twowayBindings:{value:{}},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:o(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]},_childInitQueue:{value:[]},_changes:{value:[]},_unresolvedImplicitDependencies:{value:[]}}),w._parent&&w._component&&(u(y,{_parent:{value:w._parent},component:{value:w._component}}),w._component.instance=y),w.el&&(y.el=h(w.el),!y.el&&y.debug))throw new Error("Could not find container element");if(w.eventDefinitions&&(i("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),w.events=w.eventDefinitions),r.forEach(function(t){y.constructor[t]?y[t]=s(o(y.constructor[t]),w[t]):w[t]&&(y[t]=w[t])}),y.data||(y.data={}),k=b.computed?s(o(b.computed),w.computed):w.computed,k&&v(y,k),E=w.template,"string"==typeof E){if(!g)throw new Error(e.missingParser);if("#"===E.charAt(0)&&t){if(x=document.getElementById(E.substring(1)),!x)throw new Error("Could not find template element ("+E+")");_=g(x.innerHTML,w)}else _=g(E,w)}else _=E;c(_)&&(a(y.partials,_.partials),_=_.main),_&&1===_.length&&"string"==typeof _[0]&&(_=_[0]),y.template=_,s(y.partials,w.partials),y.parseOptions={preserveWhitespace:w.preserveWhitespace,sanitize:w.sanitize,stripComments:w.stripComments},y.transitionsEnabled=w.noIntro?!1:w.transitionsEnabled,t&&!y.el&&(y.el=document.createDocumentFragment()),y.el&&!w.append&&(y.el.innerHTML=""),T=new l(function(t){N=t}),y.render(y.el,N),w.complete&&T.then(w.complete.bind(y)),y.transitionsEnabled=w.transitionsEnabled,y._initing=!1}}(a,wr,r,Hi,Y,Me,$i,rr,h,Ee,Z,C,Vi,d,z,yi,so),uo=function(t,e,n){return function(r,i,o){t.keys.forEach(function(t){var n=o[t],r=i.defaults[t];"function"==typeof n&&"function"==typeof r&&(o[t]=e(n,r))}),r.beforeInit&&r.beforeInit(o),n(r,o),o._parent&&o._parent._rendering?o._parent._childInitQueue.push({instance:r,options:o}):r.init&&r.init(o)}}(r,Ki,ao),ho=function(t,e,n,r,i,o,s,a,u,h,c){var p;return c.push(function(){p=c.Ractive}),function(c){var f,l,d,g=this;if(c.prototype instanceof p&&(c=r({},c,c.prototype,c.defaults)),f=function(t){h(this,f,t||{})},f.prototype=t(g.prototype),f.prototype.constructor=f,e(f,{extend:{value:g.extend},_guid:{value:n()}}),i(f,g),o(f,c),f.adaptors&&(d=f.defaults.adapt.length))for(;d--;)l=f.defaults.adapt[d],"string"==typeof l&&(f.defaults.adapt[d]=f.adaptors[l]||l);return c.template&&(a(f),s(f,c),u(f)),f}}(Me,h,Vi,$i,Gi,Zi,to,eo,no,uo,w),co=function(t,e,n,r,i,o,s,a,u,h,c,p,f,l){var d=function(t){f(this,t)};return d.prototype=r,n(d,{partials:{value:i},adaptors:{value:o},easing:{value:a},transitions:{value:{}},events:{value:{}},components:{value:s},decorators:{value:{}},interpolators:{value:u},defaults:{value:t.defaults},svg:{value:e},VERSION:{value:"0.4.0"}}),d.eventDefinitions=d.events,d.prototype.constructor=d,d.Promise=h,d.extend=c,d.parse=p,l.Ractive=d,d}(r,i,h,zi,br,M,Qi,Ji,te,d,ho,yi,ao,w),po=function(t,e){for(var n="function";e.length;)e.pop()();if(typeof Date.now!==n||typeof String.prototype.trim!==n||typeof Object.keys!==n||typeof Array.prototype.indexOf!==n||typeof Array.prototype.forEach!==n||typeof Array.prototype.map!==n||typeof Array.prototype.filter!==n||"undefined"!=typeof window&&typeof window.addEventListener!==n)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return"undefined"!=typeof window&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains&&(window.Node.prototype.contains=window.HTMLElement.prototype.contains),t}(co,w,n);"undefined"!=typeof module&&module.exports?module.exports=po:"function"==typeof define&&define.amd&&define(function(){return po}),t.Ractive=po,po.noConflict=function(){return t.Ractive=e,po}}("undefined"!=typeof window?window:this);